# Plonk Configuration

Plonk uses two configuration files located in `~/.config/plonk/`:

## plonk.lock

The lock file is automatically maintained by plonk and tracks your managed resources. Do not edit this file manually.

**Format:**
```yaml
version: 2
packages:
  brew:
    - name: ripgrep
      version: 14.0.3
    - name: fd
      version: 8.7.0
  npm:
    - name: prettier
      version: 3.1.0
dotfiles:
  - source: /Users/you/.config/plonk/.vimrc
    destination: /Users/you/.vimrc
  - source: /Users/you/.config/plonk/.zshrc
    destination: /Users/you/.zshrc
```

## plonk.yaml (Optional)

User configuration file for customizing plonk behavior. This file is optional - plonk works with sensible defaults.

**Example:**
```yaml
# Default package manager (if not specified in commands)
default_manager: brew

# Dotfile management settings
dotfiles:
  # Patterns to ignore when scanning for dotfiles
  ignore_patterns:
    - "*.swp"
    - "*.tmp"
    - ".DS_Store"
    - ".Trash"
    - ".cache/*"

  # Additional directories to scan for dotfiles
  scan_dirs:
    - "~/.config"
    - "~/.local/share"

# Hook scripts (run before/after apply)
hooks:
  pre_apply:
    - "echo 'Starting plonk apply...'"
  post_apply:
    - "echo 'Apply complete!'"

# Operation timeouts (in seconds)
timeouts:
  install: 300
  search: 30
  list: 60
```

## Environment Variables

- `PLONK_DIR` - Override config directory location (default: `~/.config/plonk`)
- `EDITOR` - Editor to use for `plonk config edit`

## Creating Configuration

```bash
# View current configuration (including defaults)
plonk config show

# Create and edit configuration
plonk config edit
```

## Configuration Precedence

1. Command-line flags (highest priority)
2. Environment variables
3. Configuration file (`plonk.yaml`)
4. Built-in defaults (lowest priority)

## Common Configuration Scenarios

### Use NPM as default package manager
```yaml
default_manager: npm
```

### Ignore specific dotfile patterns
```yaml
dotfiles:
  ignore_patterns:
    - "*.log"
    - "node_modules/*"
    - ".git/*"
```

### Add pre/post hooks
```yaml
hooks:
  pre_apply:
    - "brew update"
  post_apply:
    - "source ~/.zshrc"
```
