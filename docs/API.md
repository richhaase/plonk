<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# Plonk API Documentation

# config

```go
import "plonk/internal/config"
```

Package config provides configuration management interfaces for plonk. These interfaces enable loose coupling between configuration sources and consumers.


Package config provides configuration management for Plonk, including YAML configuration parsing, validation, and generation of shell configuration files.

The package supports loading configuration from plonk.yaml, validating package definitions and file paths, and generating shell\-specific configuration files like .zshrc, .zshenv, and .gitconfig.

## Index

- [func GetDefaultConfigDirectory\(\) string](<#GetDefaultConfigDirectory>)
- [func IntPtr\(i int\) \*int](<#IntPtr>)
- [func StringPtr\(s string\) \*string](<#StringPtr>)
- [func StringSlicePtr\(s \[\]string\) \*\[\]string](<#StringSlicePtr>)
- [func TargetToSource\(target string\) string](<#TargetToSource>)
- [func ValidateFilePath\(path string\) error](<#ValidateFilePath>)
- [func ValidatePackageName\(name string\) error](<#ValidatePackageName>)
- [func ValidateYAML\(content \[\]byte\) error](<#ValidateYAML>)
- [type Config](<#Config>)
  - [func GetOrCreateConfig\(configDir string\) \(\*Config, error\)](<#GetOrCreateConfig>)
  - [func LoadConfig\(configDir string\) \(\*Config, error\)](<#LoadConfig>)
  - [func \(c \*Config\) Resolve\(\) \*ResolvedConfig](<#Config.Resolve>)
- [type ConfigAdapter](<#ConfigAdapter>)
  - [func NewConfigAdapter\(config \*Config\) \*ConfigAdapter](<#NewConfigAdapter>)
  - [func \(c \*ConfigAdapter\) GetDotfileTargets\(\) map\[string\]string](<#ConfigAdapter.GetDotfileTargets>)
  - [func \(c \*ConfigAdapter\) GetPackagesForManager\(managerName string\) \(\[\]PackageConfigItem, error\)](<#ConfigAdapter.GetPackagesForManager>)
- [type ConfigDefaults](<#ConfigDefaults>)
  - [func GetDefaults\(\) ConfigDefaults](<#GetDefaults>)
- [type ConfigReadWriter](<#ConfigReadWriter>)
- [type ConfigReader](<#ConfigReader>)
- [type ConfigService](<#ConfigService>)
- [type ConfigValidator](<#ConfigValidator>)
- [type ConfigWriter](<#ConfigWriter>)
- [type DotfileConfigReader](<#DotfileConfigReader>)
- [type PackageConfigItem](<#PackageConfigItem>)
- [type PackageConfigReader](<#PackageConfigReader>)
- [type ResolvedConfig](<#ResolvedConfig>)
  - [func \(r \*ResolvedConfig\) GetDefaultManager\(\) string](<#ResolvedConfig.GetDefaultManager>)
  - [func \(r \*ResolvedConfig\) GetDotfileTimeout\(\) int](<#ResolvedConfig.GetDotfileTimeout>)
  - [func \(r \*ResolvedConfig\) GetExpandDirectories\(\) \[\]string](<#ResolvedConfig.GetExpandDirectories>)
  - [func \(r \*ResolvedConfig\) GetIgnorePatterns\(\) \[\]string](<#ResolvedConfig.GetIgnorePatterns>)
  - [func \(r \*ResolvedConfig\) GetOperationTimeout\(\) int](<#ResolvedConfig.GetOperationTimeout>)
  - [func \(r \*ResolvedConfig\) GetPackageTimeout\(\) int](<#ResolvedConfig.GetPackageTimeout>)
- [type Settings](<#Settings>)
- [type SimpleValidator](<#SimpleValidator>)
  - [func NewSimpleValidator\(\) \*SimpleValidator](<#NewSimpleValidator>)
  - [func \(v \*SimpleValidator\) ValidateConfig\(config \*Config\) \*ValidationResult](<#SimpleValidator.ValidateConfig>)
  - [func \(v \*SimpleValidator\) ValidateConfigFromYAML\(content \[\]byte\) \*ValidationResult](<#SimpleValidator.ValidateConfigFromYAML>)
- [type StateDotfileConfigAdapter](<#StateDotfileConfigAdapter>)
  - [func NewStateDotfileConfigAdapter\(configAdapter \*ConfigAdapter\) \*StateDotfileConfigAdapter](<#NewStateDotfileConfigAdapter>)
  - [func \(s \*StateDotfileConfigAdapter\) GetDotfileTargets\(\) map\[string\]string](<#StateDotfileConfigAdapter.GetDotfileTargets>)
  - [func \(s \*StateDotfileConfigAdapter\) GetExpandDirectories\(\) \[\]string](<#StateDotfileConfigAdapter.GetExpandDirectories>)
  - [func \(s \*StateDotfileConfigAdapter\) GetIgnorePatterns\(\) \[\]string](<#StateDotfileConfigAdapter.GetIgnorePatterns>)
- [type StatePackageConfigAdapter](<#StatePackageConfigAdapter>)
  - [func NewStatePackageConfigAdapter\(configAdapter \*ConfigAdapter\) \*StatePackageConfigAdapter](<#NewStatePackageConfigAdapter>)
  - [func \(s \*StatePackageConfigAdapter\) GetPackagesForManager\(managerName string\) \(\[\]state.PackageConfigItem, error\)](<#StatePackageConfigAdapter.GetPackagesForManager>)
- [type ValidationResult](<#ValidationResult>)
  - [func \(r \*ValidationResult\) GetMessages\(\) \[\]string](<#ValidationResult.GetMessages>)
  - [func \(r \*ValidationResult\) GetSummary\(\) string](<#ValidationResult.GetSummary>)
  - [func \(r \*ValidationResult\) IsValid\(\) bool](<#ValidationResult.IsValid>)
- [type YAMLConfigService](<#YAMLConfigService>)
  - [func NewYAMLConfigService\(\) \*YAMLConfigService](<#NewYAMLConfigService>)
  - [func \(y \*YAMLConfigService\) GetDefaultConfig\(\) \*Config](<#YAMLConfigService.GetDefaultConfig>)
  - [func \(y \*YAMLConfigService\) GetDotfileTargets\(\) map\[string\]string](<#YAMLConfigService.GetDotfileTargets>)
  - [func \(y \*YAMLConfigService\) GetPackagesForManager\(managerName string\) \(\[\]PackageConfigItem, error\)](<#YAMLConfigService.GetPackagesForManager>)
  - [func \(y \*YAMLConfigService\) LoadConfig\(configDir string\) \(\*Config, error\)](<#YAMLConfigService.LoadConfig>)
  - [func \(y \*YAMLConfigService\) LoadConfigFromFile\(filePath string\) \(\*Config, error\)](<#YAMLConfigService.LoadConfigFromFile>)
  - [func \(y \*YAMLConfigService\) LoadConfigFromReader\(reader io.Reader\) \(\*Config, error\)](<#YAMLConfigService.LoadConfigFromReader>)
  - [func \(y \*YAMLConfigService\) SaveConfig\(configDir string, config \*Config\) error](<#YAMLConfigService.SaveConfig>)
  - [func \(y \*YAMLConfigService\) SaveConfigToFile\(filePath string, config \*Config\) error](<#YAMLConfigService.SaveConfigToFile>)
  - [func \(y \*YAMLConfigService\) SaveConfigToWriter\(writer io.Writer, config \*Config\) error](<#YAMLConfigService.SaveConfigToWriter>)
  - [func \(y \*YAMLConfigService\) ValidateConfig\(config \*Config\) \*ValidationResult](<#YAMLConfigService.ValidateConfig>)
  - [func \(y \*YAMLConfigService\) ValidateConfigFromReader\(reader io.Reader\) error](<#YAMLConfigService.ValidateConfigFromReader>)


<a name="GetDefaultConfigDirectory"></a>
## func [GetDefaultConfigDirectory](<https://github.com/richhaase/plonk/blob/main/internal/config/yaml_config.go#L245>)

```go
func GetDefaultConfigDirectory() string
```

GetDefaultConfigDirectory returns the default config directory, checking PLONK\_DIR environment variable first

<a name="IntPtr"></a>
## func [IntPtr](<https://github.com/richhaase/plonk/blob/main/internal/config/resolved.go#L55>)

```go
func IntPtr(i int) *int
```

IntPtr returns a pointer to the given int value

<a name="StringPtr"></a>
## func [StringPtr](<https://github.com/richhaase/plonk/blob/main/internal/config/resolved.go#L50>)

```go
func StringPtr(s string) *string
```

StringPtr returns a pointer to the given string value

<a name="StringSlicePtr"></a>
## func [StringSlicePtr](<https://github.com/richhaase/plonk/blob/main/internal/config/resolved.go#L60>)

```go
func StringSlicePtr(s []string) *[]string
```

StringSlicePtr returns a pointer to the given string slice

<a name="TargetToSource"></a>
## func [TargetToSource](<https://github.com/richhaase/plonk/blob/main/internal/config/yaml_config.go#L230>)

```go
func TargetToSource(target string) string
```

TargetToSource converts a target path to source path using our convention Removes the \~/. prefix Examples:

```
~/.config/nvim/ -> config/nvim/
~/.zshrc -> zshrc
~/.editorconfig -> editorconfig
```

<a name="ValidateFilePath"></a>
## func [ValidateFilePath](<https://github.com/richhaase/plonk/blob/main/internal/config/simple_validator.go#L152>)

```go
func ValidateFilePath(path string) error
```

ValidateFilePath checks if a file path is valid for plonk configuration.

<a name="ValidatePackageName"></a>
## func [ValidatePackageName](<https://github.com/richhaase/plonk/blob/main/internal/config/simple_validator.go#L132>)

```go
func ValidatePackageName(name string) error
```

ValidatePackageName checks if a package name is valid.

<a name="ValidateYAML"></a>
## func [ValidateYAML](<https://github.com/richhaase/plonk/blob/main/internal/config/simple_validator.go#L121>)

```go
func ValidateYAML(content []byte) error
```

ValidateYAML checks if the provided YAML content has valid syntax.

<a name="Config"></a>
## type [Config](<https://github.com/richhaase/plonk/blob/main/internal/config/yaml_config.go#L27-L30>)

Config represents the user's configuration overrides. All fields are optional \- defaults will be used for nil values.

```go
type Config struct {
    Settings       *Settings `yaml:"settings,omitempty"`
    IgnorePatterns []string  `yaml:"ignore_patterns,omitempty"`
}
```

<a name="GetOrCreateConfig"></a>
### func [GetOrCreateConfig](<https://github.com/richhaase/plonk/blob/main/internal/config/yaml_config.go#L142>)

```go
func GetOrCreateConfig(configDir string) (*Config, error)
```

GetOrCreateConfig loads configuration if it exists, or creates a default config with the specified directory if it doesn't exist. Useful for commands that need to save configuration.

<a name="LoadConfig"></a>
### func [LoadConfig](<https://github.com/richhaase/plonk/blob/main/internal/config/yaml_config.go#L109>)

```go
func LoadConfig(configDir string) (*Config, error)
```

LoadConfig loads configuration from plonk.yaml.

<a name="Config.Resolve"></a>
### func \(\*Config\) [Resolve](<https://github.com/richhaase/plonk/blob/main/internal/config/yaml_config.go#L47>)

```go
func (c *Config) Resolve() *ResolvedConfig
```

Resolve merges user configuration with defaults to produce final configuration values

<a name="ConfigAdapter"></a>
## type [ConfigAdapter](<https://github.com/richhaase/plonk/blob/main/internal/config/yaml_config.go#L410-L412>)

ConfigAdapter adapts a loaded Config to provide domain\-specific interfaces

```go
type ConfigAdapter struct {
    // contains filtered or unexported fields
}
```

<a name="NewConfigAdapter"></a>
### func [NewConfigAdapter](<https://github.com/richhaase/plonk/blob/main/internal/config/yaml_config.go#L415>)

```go
func NewConfigAdapter(config *Config) *ConfigAdapter
```

NewConfigAdapter creates a new config adapter

<a name="ConfigAdapter.GetDotfileTargets"></a>
### func \(\*ConfigAdapter\) [GetDotfileTargets](<https://github.com/richhaase/plonk/blob/main/internal/config/yaml_config.go#L420>)

```go
func (c *ConfigAdapter) GetDotfileTargets() map[string]string
```

GetDotfileTargets returns a map of source \-\> destination paths for dotfiles

<a name="ConfigAdapter.GetPackagesForManager"></a>
### func \(\*ConfigAdapter\) [GetPackagesForManager](<https://github.com/richhaase/plonk/blob/main/internal/config/yaml_config.go#L466>)

```go
func (c *ConfigAdapter) GetPackagesForManager(managerName string) ([]PackageConfigItem, error)
```

GetPackagesForManager returns package names for a specific package manager NOTE: Packages are now managed by the lock file, so this always returns empty

<a name="ConfigDefaults"></a>
## type [ConfigDefaults](<https://github.com/richhaase/plonk/blob/main/internal/config/defaults.go#L7-L14>)

ConfigDefaults provides centralized default values for all configuration settings

```go
type ConfigDefaults struct {
    DefaultManager    string
    OperationTimeout  int
    PackageTimeout    int
    DotfileTimeout    int
    ExpandDirectories []string
    IgnorePatterns    []string
}
```

<a name="GetDefaults"></a>
### func [GetDefaults](<https://github.com/richhaase/plonk/blob/main/internal/config/defaults.go#L18>)

```go
func GetDefaults() ConfigDefaults
```

GetDefaults returns the default configuration values This is the single source of truth for all default values in Plonk

<a name="ConfigReadWriter"></a>
## type [ConfigReadWriter](<https://github.com/richhaase/plonk/blob/main/internal/config/interfaces.go#L37-L40>)

ConfigReadWriter combines reading and writing capabilities

```go
type ConfigReadWriter interface {
    ConfigReader
    ConfigWriter
}
```

<a name="ConfigReader"></a>
## type [ConfigReader](<https://github.com/richhaase/plonk/blob/main/internal/config/interfaces.go#L13-L22>)

ConfigReader provides methods for loading configuration from various sources

```go
type ConfigReader interface {
    // LoadConfig loads configuration from a directory containing plonk.yaml
    LoadConfig(configDir string) (*Config, error)

    // LoadConfigFromFile loads configuration from a specific file path
    LoadConfigFromFile(filePath string) (*Config, error)

    // LoadConfigFromReader loads configuration from an io.Reader
    LoadConfigFromReader(reader io.Reader) (*Config, error)
}
```

<a name="ConfigService"></a>
## type [ConfigService](<https://github.com/richhaase/plonk/blob/main/internal/config/interfaces.go#L69-L74>)

ConfigService combines all configuration interfaces for a complete configuration service

```go
type ConfigService interface {
    ConfigReadWriter
    DotfileConfigReader
    PackageConfigReader
    ConfigValidator
}
```

<a name="ConfigValidator"></a>
## type [ConfigValidator](<https://github.com/richhaase/plonk/blob/main/internal/config/interfaces.go#L60-L66>)

ConfigValidator provides methods for validating configuration

```go
type ConfigValidator interface {
    // ValidateConfig validates a configuration object
    ValidateConfig(config *Config) error

    // ValidateConfigFromReader validates configuration from an io.Reader
    ValidateConfigFromReader(reader io.Reader) error
}
```

<a name="ConfigWriter"></a>
## type [ConfigWriter](<https://github.com/richhaase/plonk/blob/main/internal/config/interfaces.go#L25-L34>)

ConfigWriter provides methods for saving configuration to various destinations

```go
type ConfigWriter interface {
    // SaveConfig saves configuration to a directory as plonk.yaml
    SaveConfig(configDir string, config *Config) error

    // SaveConfigToFile saves configuration to a specific file path
    SaveConfigToFile(filePath string, config *Config) error

    // SaveConfigToWriter saves configuration to an io.Writer
    SaveConfigToWriter(writer io.Writer, config *Config) error
}
```

<a name="DotfileConfigReader"></a>
## type [DotfileConfigReader](<https://github.com/richhaase/plonk/blob/main/internal/config/interfaces.go#L43-L46>)

DotfileConfigReader provides methods for reading dotfile configuration

```go
type DotfileConfigReader interface {
    // GetDotfileTargets returns a map of source -> destination paths for dotfiles
    GetDotfileTargets() map[string]string
}
```



```go
    // contains filtered or unexported fields
}
```


```go
```



```go
```

EXPECT returns an object that allows the caller to indicate expected use.


```go
```



```go
```



```go
```



```go
```



```go
```



```go
```




```go
    // contains filtered or unexported fields
}
```


```go
```

LoadConfig indicates an expected call of LoadConfig.


```go
```

LoadConfigFromFile indicates an expected call of LoadConfigFromFile.


```go
```

LoadConfigFromReader indicates an expected call of LoadConfigFromReader.


```go
```

SaveConfig indicates an expected call of SaveConfig.


```go
```

SaveConfigToFile indicates an expected call of SaveConfigToFile.


```go
```

SaveConfigToWriter indicates an expected call of SaveConfigToWriter.



```go
    // contains filtered or unexported fields
}
```


```go
```



```go
```

EXPECT returns an object that allows the caller to indicate expected use.


```go
```



```go
```



```go
```




```go
    // contains filtered or unexported fields
}
```


```go
```

LoadConfig indicates an expected call of LoadConfig.


```go
```

LoadConfigFromFile indicates an expected call of LoadConfigFromFile.


```go
```

LoadConfigFromReader indicates an expected call of LoadConfigFromReader.



```go
    // contains filtered or unexported fields
}
```


```go
```



```go
```

EXPECT returns an object that allows the caller to indicate expected use.


```go
```



```go
```



```go
```



```go
```



```go
```



```go
```



```go
```



```go
```



```go
```



```go
```




```go
    // contains filtered or unexported fields
}
```


```go
```

GetDotfileTargets indicates an expected call of GetDotfileTargets.


```go
```

GetPackagesForManager indicates an expected call of GetPackagesForManager.


```go
```

LoadConfig indicates an expected call of LoadConfig.


```go
```

LoadConfigFromFile indicates an expected call of LoadConfigFromFile.


```go
```

LoadConfigFromReader indicates an expected call of LoadConfigFromReader.


```go
```

SaveConfig indicates an expected call of SaveConfig.


```go
```

SaveConfigToFile indicates an expected call of SaveConfigToFile.


```go
```

SaveConfigToWriter indicates an expected call of SaveConfigToWriter.


```go
```

ValidateConfig indicates an expected call of ValidateConfig.


```go
```

ValidateConfigFromReader indicates an expected call of ValidateConfigFromReader.



```go
    // contains filtered or unexported fields
}
```


```go
```



```go
```

EXPECT returns an object that allows the caller to indicate expected use.


```go
```



```go
```




```go
    // contains filtered or unexported fields
}
```


```go
```

ValidateConfig indicates an expected call of ValidateConfig.


```go
```

ValidateConfigFromReader indicates an expected call of ValidateConfigFromReader.



```go
    // contains filtered or unexported fields
}
```


```go
```



```go
```

EXPECT returns an object that allows the caller to indicate expected use.


```go
```



```go
```



```go
```




```go
    // contains filtered or unexported fields
}
```


```go
```

SaveConfig indicates an expected call of SaveConfig.


```go
```

SaveConfigToFile indicates an expected call of SaveConfigToFile.


```go
```

SaveConfigToWriter indicates an expected call of SaveConfigToWriter.



```go
    // contains filtered or unexported fields
}
```


```go
```



```go
```

EXPECT returns an object that allows the caller to indicate expected use.


```go
```




```go
    // contains filtered or unexported fields
}
```


```go
```

GetDotfileTargets indicates an expected call of GetDotfileTargets.



```go
    // contains filtered or unexported fields
}
```


```go
```



```go
```

EXPECT returns an object that allows the caller to indicate expected use.


```go
```




```go
    // contains filtered or unexported fields
}
```


```go
```

GetPackagesForManager indicates an expected call of GetPackagesForManager.

<a name="PackageConfigItem"></a>
## type [PackageConfigItem](<https://github.com/richhaase/plonk/blob/main/internal/config/interfaces.go#L55-L57>)

PackageConfigItem represents a package from configuration

```go
type PackageConfigItem struct {
    Name string
}
```

<a name="PackageConfigReader"></a>
## type [PackageConfigReader](<https://github.com/richhaase/plonk/blob/main/internal/config/interfaces.go#L49-L52>)

PackageConfigReader provides methods for reading package configuration

```go
type PackageConfigReader interface {
    // GetPackagesForManager returns package names for a specific package manager
    GetPackagesForManager(managerName string) ([]PackageConfigItem, error)
}
```

<a name="ResolvedConfig"></a>
## type [ResolvedConfig](<https://github.com/richhaase/plonk/blob/main/internal/config/resolved.go#L8-L15>)

ResolvedConfig represents the final computed configuration values after merging defaults with user overrides. This is what commands should use.

```go
type ResolvedConfig struct {
    DefaultManager    string
    OperationTimeout  int
    PackageTimeout    int
    DotfileTimeout    int
    ExpandDirectories []string
    IgnorePatterns    []string
}
```

<a name="ResolvedConfig.GetDefaultManager"></a>
### func \(\*ResolvedConfig\) [GetDefaultManager](<https://github.com/richhaase/plonk/blob/main/internal/config/resolved.go#L33>)

```go
func (r *ResolvedConfig) GetDefaultManager() string
```

GetDefaultManager returns the default package manager

<a name="ResolvedConfig.GetDotfileTimeout"></a>
### func \(\*ResolvedConfig\) [GetDotfileTimeout](<https://github.com/richhaase/plonk/blob/main/internal/config/resolved.go#L28>)

```go
func (r *ResolvedConfig) GetDotfileTimeout() int
```

GetDotfileTimeout returns the dotfile timeout in seconds

<a name="ResolvedConfig.GetExpandDirectories"></a>
### func \(\*ResolvedConfig\) [GetExpandDirectories](<https://github.com/richhaase/plonk/blob/main/internal/config/resolved.go#L38>)

```go
func (r *ResolvedConfig) GetExpandDirectories() []string
```

GetExpandDirectories returns the directories to expand in dot list output

<a name="ResolvedConfig.GetIgnorePatterns"></a>
### func \(\*ResolvedConfig\) [GetIgnorePatterns](<https://github.com/richhaase/plonk/blob/main/internal/config/resolved.go#L43>)

```go
func (r *ResolvedConfig) GetIgnorePatterns() []string
```

GetIgnorePatterns returns the ignore patterns for dotfile discovery

<a name="ResolvedConfig.GetOperationTimeout"></a>
### func \(\*ResolvedConfig\) [GetOperationTimeout](<https://github.com/richhaase/plonk/blob/main/internal/config/resolved.go#L18>)

```go
func (r *ResolvedConfig) GetOperationTimeout() int
```

GetOperationTimeout returns the operation timeout in seconds

<a name="ResolvedConfig.GetPackageTimeout"></a>
### func \(\*ResolvedConfig\) [GetPackageTimeout](<https://github.com/richhaase/plonk/blob/main/internal/config/resolved.go#L23>)

```go
func (r *ResolvedConfig) GetPackageTimeout() int
```

GetPackageTimeout returns the package timeout in seconds

<a name="Settings"></a>
## type [Settings](<https://github.com/richhaase/plonk/blob/main/internal/config/yaml_config.go#L34-L40>)

Settings contains global configuration settings. All fields use pointers to distinguish between "not set" \(nil\) and "set to zero value".

```go
type Settings struct {
    DefaultManager    *string   `yaml:"default_manager,omitempty" validate:"omitempty,oneof=homebrew npm cargo"`
    OperationTimeout  *int      `yaml:"operation_timeout,omitempty" validate:"omitempty,min=0,max=3600"` // Timeout in seconds for operations (0 for unlimited, 1-3600 seconds)
    PackageTimeout    *int      `yaml:"package_timeout,omitempty" validate:"omitempty,min=0,max=1800"`   // Timeout in seconds for package operations (0 for unlimited, 1-1800 seconds)
    DotfileTimeout    *int      `yaml:"dotfile_timeout,omitempty" validate:"omitempty,min=0,max=600"`    // Timeout in seconds for dotfile operations (0 for unlimited, 1-600 seconds)
    ExpandDirectories *[]string `yaml:"expand_directories,omitempty"`                                    // Directories to expand in dot list output
}
```

<a name="SimpleValidator"></a>
## type [SimpleValidator](<https://github.com/richhaase/plonk/blob/main/internal/config/simple_validator.go#L15-L17>)

SimpleValidator uses the go\-playground/validator library with custom validators.

```go
type SimpleValidator struct {
    // contains filtered or unexported fields
}
```

<a name="NewSimpleValidator"></a>
### func [NewSimpleValidator](<https://github.com/richhaase/plonk/blob/main/internal/config/simple_validator.go#L27>)

```go
func NewSimpleValidator() *SimpleValidator
```

NewSimpleValidator creates a new validator with custom validation functions

<a name="SimpleValidator.ValidateConfig"></a>
### func \(\*SimpleValidator\) [ValidateConfig](<https://github.com/richhaase/plonk/blob/main/internal/config/simple_validator.go#L38>)

```go
func (v *SimpleValidator) ValidateConfig(config *Config) *ValidationResult
```

ValidateConfig validates a parsed config struct

<a name="SimpleValidator.ValidateConfigFromYAML"></a>
### func \(\*SimpleValidator\) [ValidateConfigFromYAML](<https://github.com/richhaase/plonk/blob/main/internal/config/simple_validator.go#L65>)

```go
func (v *SimpleValidator) ValidateConfigFromYAML(content []byte) *ValidationResult
```

ValidateConfigFromYAML validates YAML content and returns structured result

<a name="StateDotfileConfigAdapter"></a>
## type [StateDotfileConfigAdapter](<https://github.com/richhaase/plonk/blob/main/internal/config/adapters.go#L37-L39>)

StateDotfileConfigAdapter adapts ConfigAdapter to work with state.DotfileConfigLoader

```go
type StateDotfileConfigAdapter struct {
    // contains filtered or unexported fields
}
```

<a name="NewStateDotfileConfigAdapter"></a>
### func [NewStateDotfileConfigAdapter](<https://github.com/richhaase/plonk/blob/main/internal/config/adapters.go#L42>)

```go
func NewStateDotfileConfigAdapter(configAdapter *ConfigAdapter) *StateDotfileConfigAdapter
```

NewStateDotfileConfigAdapter creates a new adapter for state dotfile interfaces

<a name="StateDotfileConfigAdapter.GetDotfileTargets"></a>
### func \(\*StateDotfileConfigAdapter\) [GetDotfileTargets](<https://github.com/richhaase/plonk/blob/main/internal/config/adapters.go#L47>)

```go
func (s *StateDotfileConfigAdapter) GetDotfileTargets() map[string]string
```

GetDotfileTargets implements state.DotfileConfigLoader interface

<a name="StateDotfileConfigAdapter.GetExpandDirectories"></a>
### func \(\*StateDotfileConfigAdapter\) [GetExpandDirectories](<https://github.com/richhaase/plonk/blob/main/internal/config/adapters.go#L59>)

```go
func (s *StateDotfileConfigAdapter) GetExpandDirectories() []string
```

GetExpandDirectories implements state.DotfileConfigLoader interface

<a name="StateDotfileConfigAdapter.GetIgnorePatterns"></a>
### func \(\*StateDotfileConfigAdapter\) [GetIgnorePatterns](<https://github.com/richhaase/plonk/blob/main/internal/config/adapters.go#L52>)

```go
func (s *StateDotfileConfigAdapter) GetIgnorePatterns() []string
```

GetIgnorePatterns implements state.DotfileConfigLoader interface

<a name="StatePackageConfigAdapter"></a>
## type [StatePackageConfigAdapter](<https://github.com/richhaase/plonk/blob/main/internal/config/adapters.go#L11-L13>)

StatePackageConfigAdapter adapts ConfigAdapter to work with state.PackageConfigLoader

```go
type StatePackageConfigAdapter struct {
    // contains filtered or unexported fields
}
```

<a name="NewStatePackageConfigAdapter"></a>
### func [NewStatePackageConfigAdapter](<https://github.com/richhaase/plonk/blob/main/internal/config/adapters.go#L16>)

```go
func NewStatePackageConfigAdapter(configAdapter *ConfigAdapter) *StatePackageConfigAdapter
```

NewStatePackageConfigAdapter creates a new adapter for state package interfaces

<a name="StatePackageConfigAdapter.GetPackagesForManager"></a>
### func \(\*StatePackageConfigAdapter\) [GetPackagesForManager](<https://github.com/richhaase/plonk/blob/main/internal/config/adapters.go#L21>)

```go
func (s *StatePackageConfigAdapter) GetPackagesForManager(managerName string) ([]state.PackageConfigItem, error)
```

GetPackagesForManager implements state.PackageConfigLoader interface

<a name="ValidationResult"></a>
## type [ValidationResult](<https://github.com/richhaase/plonk/blob/main/internal/config/simple_validator.go#L20-L24>)

ValidationResult represents the outcome of validation

```go
type ValidationResult struct {
    Valid    bool     `json:"valid"`
    Errors   []string `json:"errors,omitempty"`
    Warnings []string `json:"warnings,omitempty"`
}
```

<a name="ValidationResult.GetMessages"></a>
### func \(\*ValidationResult\) [GetMessages](<https://github.com/richhaase/plonk/blob/main/internal/config/simple_validator.go#L205>)

```go
func (r *ValidationResult) GetMessages() []string
```

GetMessages returns all validation messages

<a name="ValidationResult.GetSummary"></a>
### func \(\*ValidationResult\) [GetSummary](<https://github.com/richhaase/plonk/blob/main/internal/config/simple_validator.go#L188>)

```go
func (r *ValidationResult) GetSummary() string
```

GetSummary returns a human\-readable summary

<a name="ValidationResult.IsValid"></a>
### func \(\*ValidationResult\) [IsValid](<https://github.com/richhaase/plonk/blob/main/internal/config/simple_validator.go#L183>)

```go
func (r *ValidationResult) IsValid() bool
```

IsValid returns true if there are no validation errors

<a name="YAMLConfigService"></a>
## type [YAMLConfigService](<https://github.com/richhaase/plonk/blob/main/internal/config/yaml_config.go#L260-L263>)

YAMLConfigService implements all configuration interfaces for YAML\-based configuration

```go
type YAMLConfigService struct {
    // contains filtered or unexported fields
}
```

<a name="NewYAMLConfigService"></a>
### func [NewYAMLConfigService](<https://github.com/richhaase/plonk/blob/main/internal/config/yaml_config.go#L266>)

```go
func NewYAMLConfigService() *YAMLConfigService
```

NewYAMLConfigService creates a new YAML configuration service

<a name="YAMLConfigService.GetDefaultConfig"></a>
### func \(\*YAMLConfigService\) [GetDefaultConfig](<https://github.com/richhaase/plonk/blob/main/internal/config/yaml_config.go#L395>)

```go
func (y *YAMLConfigService) GetDefaultConfig() *Config
```

GetDefaultConfig returns a default configuration with sensible defaults

<a name="YAMLConfigService.GetDotfileTargets"></a>
### func \(\*YAMLConfigService\) [GetDotfileTargets](<https://github.com/richhaase/plonk/blob/main/internal/config/yaml_config.go#L361>)

```go
func (y *YAMLConfigService) GetDotfileTargets() map[string]string
```

GetDotfileTargets returns a map of source \-\> destination paths for dotfiles

<a name="YAMLConfigService.GetPackagesForManager"></a>
### func \(\*YAMLConfigService\) [GetPackagesForManager](<https://github.com/richhaase/plonk/blob/main/internal/config/yaml_config.go#L368>)

```go
func (y *YAMLConfigService) GetPackagesForManager(managerName string) ([]PackageConfigItem, error)
```

GetPackagesForManager returns package names for a specific package manager

<a name="YAMLConfigService.LoadConfig"></a>
### func \(\*YAMLConfigService\) [LoadConfig](<https://github.com/richhaase/plonk/blob/main/internal/config/yaml_config.go#L274>)

```go
func (y *YAMLConfigService) LoadConfig(configDir string) (*Config, error)
```

LoadConfig loads configuration from a directory containing plonk.yaml

<a name="YAMLConfigService.LoadConfigFromFile"></a>
### func \(\*YAMLConfigService\) [LoadConfigFromFile](<https://github.com/richhaase/plonk/blob/main/internal/config/yaml_config.go#L279>)

```go
func (y *YAMLConfigService) LoadConfigFromFile(filePath string) (*Config, error)
```

LoadConfigFromFile loads configuration from a specific file path

<a name="YAMLConfigService.LoadConfigFromReader"></a>
### func \(\*YAMLConfigService\) [LoadConfigFromReader](<https://github.com/richhaase/plonk/blob/main/internal/config/yaml_config.go#L290>)

```go
func (y *YAMLConfigService) LoadConfigFromReader(reader io.Reader) (*Config, error)
```

LoadConfigFromReader loads configuration from an io.Reader

<a name="YAMLConfigService.SaveConfig"></a>
### func \(\*YAMLConfigService\) [SaveConfig](<https://github.com/richhaase/plonk/blob/main/internal/config/yaml_config.go#L316>)

```go
func (y *YAMLConfigService) SaveConfig(configDir string, config *Config) error
```

SaveConfig saves configuration to a directory as plonk.yaml

<a name="YAMLConfigService.SaveConfigToFile"></a>
### func \(\*YAMLConfigService\) [SaveConfigToFile](<https://github.com/richhaase/plonk/blob/main/internal/config/yaml_config.go#L327>)

```go
func (y *YAMLConfigService) SaveConfigToFile(filePath string, config *Config) error
```

SaveConfigToFile saves configuration to a specific file path atomically

<a name="YAMLConfigService.SaveConfigToWriter"></a>
### func \(\*YAMLConfigService\) [SaveConfigToWriter](<https://github.com/richhaase/plonk/blob/main/internal/config/yaml_config.go#L345>)

```go
func (y *YAMLConfigService) SaveConfigToWriter(writer io.Writer, config *Config) error
```

SaveConfigToWriter saves configuration to an io.Writer

<a name="YAMLConfigService.ValidateConfig"></a>
### func \(\*YAMLConfigService\) [ValidateConfig](<https://github.com/richhaase/plonk/blob/main/internal/config/yaml_config.go#L375>)

```go
func (y *YAMLConfigService) ValidateConfig(config *Config) *ValidationResult
```

ValidateConfig validates a configuration object

<a name="YAMLConfigService.ValidateConfigFromReader"></a>
### func \(\*YAMLConfigService\) [ValidateConfigFromReader](<https://github.com/richhaase/plonk/blob/main/internal/config/yaml_config.go#L380>)

```go
func (y *YAMLConfigService) ValidateConfigFromReader(reader io.Reader) error
```

ValidateConfigFromReader validates configuration from an io.Reader

# managers

```go
import "plonk/internal/managers"
```


## Index

- [type CargoManager](<#CargoManager>)
  - [func NewCargoManager\(\) \*CargoManager](<#NewCargoManager>)
  - [func \(c \*CargoManager\) Info\(ctx context.Context, name string\) \(\*PackageInfo, error\)](<#CargoManager.Info>)
  - [func \(c \*CargoManager\) Install\(ctx context.Context, name string\) error](<#CargoManager.Install>)
  - [func \(c \*CargoManager\) IsAvailable\(ctx context.Context\) \(bool, error\)](<#CargoManager.IsAvailable>)
  - [func \(c \*CargoManager\) IsInstalled\(ctx context.Context, name string\) \(bool, error\)](<#CargoManager.IsInstalled>)
  - [func \(c \*CargoManager\) ListInstalled\(ctx context.Context\) \(\[\]string, error\)](<#CargoManager.ListInstalled>)
  - [func \(c \*CargoManager\) Search\(ctx context.Context, query string\) \(\[\]string, error\)](<#CargoManager.Search>)
  - [func \(c \*CargoManager\) Uninstall\(ctx context.Context, name string\) error](<#CargoManager.Uninstall>)
- [type HomebrewManager](<#HomebrewManager>)
  - [func NewHomebrewManager\(\) \*HomebrewManager](<#NewHomebrewManager>)
  - [func \(h \*HomebrewManager\) Info\(ctx context.Context, name string\) \(\*PackageInfo, error\)](<#HomebrewManager.Info>)
  - [func \(h \*HomebrewManager\) Install\(ctx context.Context, name string\) error](<#HomebrewManager.Install>)
  - [func \(h \*HomebrewManager\) IsAvailable\(ctx context.Context\) \(bool, error\)](<#HomebrewManager.IsAvailable>)
  - [func \(h \*HomebrewManager\) IsInstalled\(ctx context.Context, name string\) \(bool, error\)](<#HomebrewManager.IsInstalled>)
  - [func \(h \*HomebrewManager\) ListInstalled\(ctx context.Context\) \(\[\]string, error\)](<#HomebrewManager.ListInstalled>)
  - [func \(h \*HomebrewManager\) Search\(ctx context.Context, query string\) \(\[\]string, error\)](<#HomebrewManager.Search>)
  - [func \(h \*HomebrewManager\) Uninstall\(ctx context.Context, name string\) error](<#HomebrewManager.Uninstall>)
- [type NpmManager](<#NpmManager>)
  - [func NewNpmManager\(\) \*NpmManager](<#NewNpmManager>)
  - [func \(n \*NpmManager\) Info\(ctx context.Context, name string\) \(\*PackageInfo, error\)](<#NpmManager.Info>)
  - [func \(n \*NpmManager\) Install\(ctx context.Context, name string\) error](<#NpmManager.Install>)
  - [func \(n \*NpmManager\) IsAvailable\(ctx context.Context\) \(bool, error\)](<#NpmManager.IsAvailable>)
  - [func \(n \*NpmManager\) IsInstalled\(ctx context.Context, name string\) \(bool, error\)](<#NpmManager.IsInstalled>)
  - [func \(n \*NpmManager\) ListInstalled\(ctx context.Context\) \(\[\]string, error\)](<#NpmManager.ListInstalled>)
  - [func \(n \*NpmManager\) Search\(ctx context.Context, query string\) \(\[\]string, error\)](<#NpmManager.Search>)
  - [func \(n \*NpmManager\) Uninstall\(ctx context.Context, name string\) error](<#NpmManager.Uninstall>)
- [type PackageInfo](<#PackageInfo>)
- [type PackageManager](<#PackageManager>)
- [type SearchResult](<#SearchResult>)


<a name="CargoManager"></a>
## type [CargoManager](<https://github.com/richhaase/plonk/blob/main/internal/managers/cargo.go#L14>)

CargoManager manages cargo packages.

```go
type CargoManager struct{}
```

<a name="NewCargoManager"></a>
### func [NewCargoManager](<https://github.com/richhaase/plonk/blob/main/internal/managers/cargo.go#L17>)

```go
func NewCargoManager() *CargoManager
```

NewCargoManager creates a new cargo manager.

<a name="CargoManager.Info"></a>
### func \(\*CargoManager\) [Info](<https://github.com/richhaase/plonk/blob/main/internal/managers/cargo.go#L117>)

```go
func (c *CargoManager) Info(ctx context.Context, name string) (*PackageInfo, error)
```

Info retrieves detailed information about a package.

<a name="CargoManager.Install"></a>
### func \(\*CargoManager\) [Install](<https://github.com/richhaase/plonk/blob/main/internal/managers/cargo.go#L58>)

```go
func (c *CargoManager) Install(ctx context.Context, name string) error
```

Install installs a cargo package.

<a name="CargoManager.IsAvailable"></a>
### func \(\*CargoManager\) [IsAvailable](<https://github.com/richhaase/plonk/blob/main/internal/managers/cargo.go#L22>)

```go
func (c *CargoManager) IsAvailable(ctx context.Context) (bool, error)
```

IsAvailable checks if cargo is installed and accessible.

<a name="CargoManager.IsInstalled"></a>
### func \(\*CargoManager\) [IsInstalled](<https://github.com/richhaase/plonk/blob/main/internal/managers/cargo.go#L76>)

```go
func (c *CargoManager) IsInstalled(ctx context.Context, name string) (bool, error)
```

IsInstalled checks if a specific package is installed.

<a name="CargoManager.ListInstalled"></a>
### func \(\*CargoManager\) [ListInstalled](<https://github.com/richhaase/plonk/blob/main/internal/managers/cargo.go#L35>)

```go
func (c *CargoManager) ListInstalled(ctx context.Context) ([]string, error)
```

ListInstalled lists all installed cargo packages.

<a name="CargoManager.Search"></a>
### func \(\*CargoManager\) [Search](<https://github.com/richhaase/plonk/blob/main/internal/managers/cargo.go#L92>)

```go
func (c *CargoManager) Search(ctx context.Context, query string) ([]string, error)
```

Search searches for packages in the cargo registry.

<a name="CargoManager.Uninstall"></a>
### func \(\*CargoManager\) [Uninstall](<https://github.com/richhaase/plonk/blob/main/internal/managers/cargo.go#L67>)

```go
func (c *CargoManager) Uninstall(ctx context.Context, name string) error
```

Uninstall removes a cargo package.

<a name="HomebrewManager"></a>
## type [HomebrewManager](<https://github.com/richhaase/plonk/blob/main/internal/managers/homebrew.go#L14>)

HomebrewManager manages Homebrew packages.

```go
type HomebrewManager struct{}
```

<a name="NewHomebrewManager"></a>
### func [NewHomebrewManager](<https://github.com/richhaase/plonk/blob/main/internal/managers/homebrew.go#L17>)

```go
func NewHomebrewManager() *HomebrewManager
```

NewHomebrewManager creates a new Homebrew manager.

<a name="HomebrewManager.Info"></a>
### func \(\*HomebrewManager\) [Info](<https://github.com/richhaase/plonk/blob/main/internal/managers/homebrew.go#L194>)

```go
func (h *HomebrewManager) Info(ctx context.Context, name string) (*PackageInfo, error)
```

Info retrieves detailed information about a package from Homebrew.

<a name="HomebrewManager.Install"></a>
### func \(\*HomebrewManager\) [Install](<https://github.com/richhaase/plonk/blob/main/internal/managers/homebrew.go#L75>)

```go
func (h *HomebrewManager) Install(ctx context.Context, name string) error
```

Install installs a Homebrew package.

<a name="HomebrewManager.IsAvailable"></a>
### func \(\*HomebrewManager\) [IsAvailable](<https://github.com/richhaase/plonk/blob/main/internal/managers/homebrew.go#L22>)

```go
func (h *HomebrewManager) IsAvailable(ctx context.Context) (bool, error)
```

IsAvailable checks if Homebrew is installed and accessible.

<a name="HomebrewManager.IsInstalled"></a>
### func \(\*HomebrewManager\) [IsInstalled](<https://github.com/richhaase/plonk/blob/main/internal/managers/homebrew.go#L135>)

```go
func (h *HomebrewManager) IsInstalled(ctx context.Context, name string) (bool, error)
```

IsInstalled checks if a specific package is installed.

<a name="HomebrewManager.ListInstalled"></a>
### func \(\*HomebrewManager\) [ListInstalled](<https://github.com/richhaase/plonk/blob/main/internal/managers/homebrew.go#L41>)

```go
func (h *HomebrewManager) ListInstalled(ctx context.Context) ([]string, error)
```

ListInstalled lists all installed Homebrew packages.

<a name="HomebrewManager.Search"></a>
### func \(\*HomebrewManager\) [Search](<https://github.com/richhaase/plonk/blob/main/internal/managers/homebrew.go#L150>)

```go
func (h *HomebrewManager) Search(ctx context.Context, query string) ([]string, error)
```

Search searches for packages in Homebrew repositories.

<a name="HomebrewManager.Uninstall"></a>
### func \(\*HomebrewManager\) [Uninstall](<https://github.com/richhaase/plonk/blob/main/internal/managers/homebrew.go#L105>)

```go
func (h *HomebrewManager) Uninstall(ctx context.Context, name string) error
```

Uninstall removes a Homebrew package.



```go
    // contains filtered or unexported fields
}
```


```go
```



```go
```

EXPECT returns an object that allows the caller to indicate expected use.


```go
```



```go
```



```go
```



```go
```



```go
```



```go
```



```go
```




```go
    // contains filtered or unexported fields
}
```


```go
```

Info indicates an expected call of Info.


```go
```

Install indicates an expected call of Install.


```go
```

IsAvailable indicates an expected call of IsAvailable.


```go
```

IsInstalled indicates an expected call of IsInstalled.


```go
```

ListInstalled indicates an expected call of ListInstalled.


```go
```

Search indicates an expected call of Search.


```go
```

Uninstall indicates an expected call of Uninstall.

<a name="NpmManager"></a>
## type [NpmManager](<https://github.com/richhaase/plonk/blob/main/internal/managers/npm.go#L14>)

NpmManager manages NPM packages.

```go
type NpmManager struct{}
```

<a name="NewNpmManager"></a>
### func [NewNpmManager](<https://github.com/richhaase/plonk/blob/main/internal/managers/npm.go#L17>)

```go
func NewNpmManager() *NpmManager
```

NewNpmManager creates a new NPM manager.

<a name="NpmManager.Info"></a>
### func \(\*NpmManager\) [Info](<https://github.com/richhaase/plonk/blob/main/internal/managers/npm.go#L230>)

```go
func (n *NpmManager) Info(ctx context.Context, name string) (*PackageInfo, error)
```

Info retrieves detailed information about a package from NPM.

<a name="NpmManager.Install"></a>
### func \(\*NpmManager\) [Install](<https://github.com/richhaase/plonk/blob/main/internal/managers/npm.go#L86>)

```go
func (n *NpmManager) Install(ctx context.Context, name string) error
```

Install installs a global NPM package.

<a name="NpmManager.IsAvailable"></a>
### func \(\*NpmManager\) [IsAvailable](<https://github.com/richhaase/plonk/blob/main/internal/managers/npm.go#L22>)

```go
func (n *NpmManager) IsAvailable(ctx context.Context) (bool, error)
```

IsAvailable checks if NPM is installed and accessible.

<a name="NpmManager.IsInstalled"></a>
### func \(\*NpmManager\) [IsInstalled](<https://github.com/richhaase/plonk/blob/main/internal/managers/npm.go#L164>)

```go
func (n *NpmManager) IsInstalled(ctx context.Context, name string) (bool, error)
```

IsInstalled checks if a specific package is installed globally.

<a name="NpmManager.ListInstalled"></a>
### func \(\*NpmManager\) [ListInstalled](<https://github.com/richhaase/plonk/blob/main/internal/managers/npm.go#L41>)

```go
func (n *NpmManager) ListInstalled(ctx context.Context) ([]string, error)
```

ListInstalled lists all globally installed NPM packages.

<a name="NpmManager.Search"></a>
### func \(\*NpmManager\) [Search](<https://github.com/richhaase/plonk/blob/main/internal/managers/npm.go#L179>)

```go
func (n *NpmManager) Search(ctx context.Context, query string) ([]string, error)
```

Search searches for packages in NPM registry.

<a name="NpmManager.Uninstall"></a>
### func \(\*NpmManager\) [Uninstall](<https://github.com/richhaase/plonk/blob/main/internal/managers/npm.go#L125>)

```go
func (n *NpmManager) Uninstall(ctx context.Context, name string) error
```

Uninstall removes a global NPM package.

<a name="PackageInfo"></a>
## type [PackageInfo](<https://github.com/richhaase/plonk/blob/main/internal/managers/common.go#L29-L38>)

PackageInfo represents detailed information about a package

```go
type PackageInfo struct {
    Name          string   `json:"name"`
    Version       string   `json:"version,omitempty"`
    Description   string   `json:"description,omitempty"`
    Homepage      string   `json:"homepage,omitempty"`
    Dependencies  []string `json:"dependencies,omitempty"`
    InstalledSize string   `json:"installed_size,omitempty"`
    Manager       string   `json:"manager"`
    Installed     bool     `json:"installed"`
}
```

<a name="PackageManager"></a>
## type [PackageManager](<https://github.com/richhaase/plonk/blob/main/internal/managers/common.go#L11-L19>)

PackageManager defines the interface for package managers. Package managers handle availability checking, listing, installing, and uninstalling packages. All methods accept a context for cancellation and timeout support.

```go
type PackageManager interface {
    IsAvailable(ctx context.Context) (bool, error)
    ListInstalled(ctx context.Context) ([]string, error)
    Install(ctx context.Context, name string) error
    Uninstall(ctx context.Context, name string) error
    IsInstalled(ctx context.Context, name string) (bool, error)
    Search(ctx context.Context, query string) ([]string, error)
    Info(ctx context.Context, name string) (*PackageInfo, error)
}
```

<a name="SearchResult"></a>
## type [SearchResult](<https://github.com/richhaase/plonk/blob/main/internal/managers/common.go#L22-L26>)

SearchResult represents the result of a search operation

```go
type SearchResult struct {
    Package string `json:"package"`
    Manager string `json:"manager"`
    Found   bool   `json:"found"`
}
```

# state

```go
import "plonk/internal/state"
```



Package state provides unified state management capabilities for plonk. This package implements the core state reconciliation patterns that are used across both package management and dotfile management domains.

## Index

- [type ActualItem](<#ActualItem>)
- [type ConfigAdapter](<#ConfigAdapter>)
  - [func NewConfigAdapter\(config ConfigInterface\) \*ConfigAdapter](<#NewConfigAdapter>)
  - [func \(c \*ConfigAdapter\) GetDotfileTargets\(\) map\[string\]string](<#ConfigAdapter.GetDotfileTargets>)
  - [func \(c \*ConfigAdapter\) GetExpandDirectories\(\) \[\]string](<#ConfigAdapter.GetExpandDirectories>)
  - [func \(c \*ConfigAdapter\) GetIgnorePatterns\(\) \[\]string](<#ConfigAdapter.GetIgnorePatterns>)
  - [func \(c \*ConfigAdapter\) GetPackagesForManager\(managerName string\) \(\[\]PackageConfigItem, error\)](<#ConfigAdapter.GetPackagesForManager>)
- [type ConfigInterface](<#ConfigInterface>)
- [type ConfigItem](<#ConfigItem>)
- [type DotfileConfigLoader](<#DotfileConfigLoader>)
- [type DotfileProvider](<#DotfileProvider>)
  - [func NewDotfileProvider\(homeDir string, configDir string, configLoader DotfileConfigLoader\) \*DotfileProvider](<#NewDotfileProvider>)
  - [func \(d \*DotfileProvider\) CreateItem\(name string, state ItemState, configured \*ConfigItem, actual \*ActualItem\) Item](<#DotfileProvider.CreateItem>)
  - [func \(d \*DotfileProvider\) Domain\(\) string](<#DotfileProvider.Domain>)
  - [func \(d \*DotfileProvider\) GetActualItems\(ctx context.Context\) \(\[\]ActualItem, error\)](<#DotfileProvider.GetActualItems>)
  - [func \(d \*DotfileProvider\) GetConfiguredItems\(\) \(\[\]ConfigItem, error\)](<#DotfileProvider.GetConfiguredItems>)
- [type Item](<#Item>)
- [type ItemState](<#ItemState>)
  - [func \(s ItemState\) String\(\) string](<#ItemState.String>)
- [type ManagerAdapter](<#ManagerAdapter>)
  - [func NewManagerAdapter\(manager ManagerInterface\) \*ManagerAdapter](<#NewManagerAdapter>)
  - [func \(m \*ManagerAdapter\) Install\(ctx context.Context, name string\) error](<#ManagerAdapter.Install>)
  - [func \(m \*ManagerAdapter\) IsAvailable\(ctx context.Context\) \(bool, error\)](<#ManagerAdapter.IsAvailable>)
  - [func \(m \*ManagerAdapter\) IsInstalled\(ctx context.Context, name string\) \(bool, error\)](<#ManagerAdapter.IsInstalled>)
  - [func \(m \*ManagerAdapter\) ListInstalled\(ctx context.Context\) \(\[\]string, error\)](<#ManagerAdapter.ListInstalled>)
  - [func \(m \*ManagerAdapter\) Uninstall\(ctx context.Context, name string\) error](<#ManagerAdapter.Uninstall>)
- [type ManagerInterface](<#ManagerInterface>)
- [type MultiManagerPackageProvider](<#MultiManagerPackageProvider>)
  - [func NewMultiManagerPackageProvider\(\) \*MultiManagerPackageProvider](<#NewMultiManagerPackageProvider>)
  - [func \(m \*MultiManagerPackageProvider\) AddManager\(managerName string, manager PackageManager, configLoader PackageConfigLoader\)](<#MultiManagerPackageProvider.AddManager>)
  - [func \(m \*MultiManagerPackageProvider\) CreateItem\(name string, state ItemState, configured \*ConfigItem, actual \*ActualItem\) Item](<#MultiManagerPackageProvider.CreateItem>)
  - [func \(m \*MultiManagerPackageProvider\) Domain\(\) string](<#MultiManagerPackageProvider.Domain>)
  - [func \(m \*MultiManagerPackageProvider\) GetActualItems\(ctx context.Context\) \(\[\]ActualItem, error\)](<#MultiManagerPackageProvider.GetActualItems>)
  - [func \(m \*MultiManagerPackageProvider\) GetConfiguredItems\(\) \(\[\]ConfigItem, error\)](<#MultiManagerPackageProvider.GetConfiguredItems>)
- [type PackageConfigItem](<#PackageConfigItem>)
- [type PackageConfigLoader](<#PackageConfigLoader>)
- [type PackageManager](<#PackageManager>)
- [type PackageProvider](<#PackageProvider>)
  - [func NewPackageProvider\(managerName string, manager PackageManager, configLoader PackageConfigLoader\) \*PackageProvider](<#NewPackageProvider>)
  - [func \(p \*PackageProvider\) CreateItem\(name string, state ItemState, configured \*ConfigItem, actual \*ActualItem\) Item](<#PackageProvider.CreateItem>)
  - [func \(p \*PackageProvider\) Domain\(\) string](<#PackageProvider.Domain>)
  - [func \(p \*PackageProvider\) GetActualItems\(ctx context.Context\) \(\[\]ActualItem, error\)](<#PackageProvider.GetActualItems>)
  - [func \(p \*PackageProvider\) GetConfiguredItems\(\) \(\[\]ConfigItem, error\)](<#PackageProvider.GetConfiguredItems>)
- [type Provider](<#Provider>)
- [type Reconciler](<#Reconciler>)
  - [func NewReconciler\(\) \*Reconciler](<#NewReconciler>)
  - [func \(r \*Reconciler\) GetDomains\(\) \[\]string](<#Reconciler.GetDomains>)
  - [func \(r \*Reconciler\) GetProvider\(domain string\) \(Provider, bool\)](<#Reconciler.GetProvider>)
  - [func \(r \*Reconciler\) ReconcileAll\(ctx context.Context\) \(Summary, error\)](<#Reconciler.ReconcileAll>)
  - [func \(r \*Reconciler\) ReconcileProvider\(ctx context.Context, domain string\) \(Result, error\)](<#Reconciler.ReconcileProvider>)
  - [func \(r \*Reconciler\) RegisterProvider\(domain string, provider Provider\)](<#Reconciler.RegisterProvider>)
- [type Result](<#Result>)
  - [func \(r \*Result\) AddToSummary\(summary \*Summary\)](<#Result.AddToSummary>)
  - [func \(r \*Result\) Count\(\) int](<#Result.Count>)
  - [func \(r \*Result\) IsEmpty\(\) bool](<#Result.IsEmpty>)
- [type Summary](<#Summary>)


<a name="ActualItem"></a>
## type [ActualItem](<https://github.com/richhaase/plonk/blob/main/internal/state/reconciler.go#L33-L37>)

ActualItem represents an item as it exists in the system

```go
type ActualItem struct {
    Name     string
    Path     string
    Metadata map[string]interface{}
}
```

<a name="ConfigAdapter"></a>
## type [ConfigAdapter](<https://github.com/richhaase/plonk/blob/main/internal/state/adapters.go#L12-L14>)

ConfigAdapter adapts existing config types to the new state interfaces

```go
type ConfigAdapter struct {
    // contains filtered or unexported fields
}
```

<a name="NewConfigAdapter"></a>
### func [NewConfigAdapter](<https://github.com/richhaase/plonk/blob/main/internal/state/adapters.go#L27>)

```go
func NewConfigAdapter(config ConfigInterface) *ConfigAdapter
```

NewConfigAdapter creates a new config adapter

<a name="ConfigAdapter.GetDotfileTargets"></a>
### func \(\*ConfigAdapter\) [GetDotfileTargets](<https://github.com/richhaase/plonk/blob/main/internal/state/adapters.go#L32>)

```go
func (c *ConfigAdapter) GetDotfileTargets() map[string]string
```

GetDotfileTargets implements DotfileConfigLoader

<a name="ConfigAdapter.GetExpandDirectories"></a>
### func \(\*ConfigAdapter\) [GetExpandDirectories](<https://github.com/richhaase/plonk/blob/main/internal/state/adapters.go#L42>)

```go
func (c *ConfigAdapter) GetExpandDirectories() []string
```

GetExpandDirectories implements DotfileConfigLoader

<a name="ConfigAdapter.GetIgnorePatterns"></a>
### func \(\*ConfigAdapter\) [GetIgnorePatterns](<https://github.com/richhaase/plonk/blob/main/internal/state/adapters.go#L37>)

```go
func (c *ConfigAdapter) GetIgnorePatterns() []string
```

GetIgnorePatterns implements DotfileConfigLoader

<a name="ConfigAdapter.GetPackagesForManager"></a>
### func \(\*ConfigAdapter\) [GetPackagesForManager](<https://github.com/richhaase/plonk/blob/main/internal/state/adapters.go#L47>)

```go
func (c *ConfigAdapter) GetPackagesForManager(managerName string) ([]PackageConfigItem, error)
```

GetPackagesForManager implements PackageConfigLoader

<a name="ConfigInterface"></a>
## type [ConfigInterface](<https://github.com/richhaase/plonk/blob/main/internal/state/adapters.go#L17-L24>)

ConfigInterface defines the methods needed from the config package

```go
type ConfigInterface interface {
    GetDotfileTargets() map[string]string
    GetHomebrewBrews() []string
    GetHomebrewCasks() []string
    GetNPMPackages() []string
    GetIgnorePatterns() []string
    GetExpandDirectories() []string
}
```

<a name="ConfigItem"></a>
## type [ConfigItem](<https://github.com/richhaase/plonk/blob/main/internal/state/reconciler.go#L27-L30>)

ConfigItem represents an item as defined in configuration

```go
type ConfigItem struct {
    Name     string
    Metadata map[string]interface{}
}
```

<a name="DotfileConfigLoader"></a>
## type [DotfileConfigLoader](<https://github.com/richhaase/plonk/blob/main/internal/state/dotfile_provider.go#L17-L21>)

DotfileConfigLoader defines how to load dotfile configuration

```go
type DotfileConfigLoader interface {
    GetDotfileTargets() map[string]string // source -> destination mapping
    GetIgnorePatterns() []string          // ignore patterns for file filtering
    GetExpandDirectories() []string       // directories to expand in dot list
}
```

<a name="DotfileProvider"></a>
## type [DotfileProvider](<https://github.com/richhaase/plonk/blob/main/internal/state/dotfile_provider.go#L24-L29>)

DotfileProvider implements the Provider interface for dotfile management

```go
type DotfileProvider struct {
    // contains filtered or unexported fields
}
```

<a name="NewDotfileProvider"></a>
### func [NewDotfileProvider](<https://github.com/richhaase/plonk/blob/main/internal/state/dotfile_provider.go#L32>)

```go
func NewDotfileProvider(homeDir string, configDir string, configLoader DotfileConfigLoader) *DotfileProvider
```

NewDotfileProvider creates a new dotfile provider

<a name="DotfileProvider.CreateItem"></a>
### func \(\*DotfileProvider\) [CreateItem](<https://github.com/richhaase/plonk/blob/main/internal/state/dotfile_provider.go#L295>)

```go
func (d *DotfileProvider) CreateItem(name string, state ItemState, configured *ConfigItem, actual *ActualItem) Item
```

CreateItem creates an Item from dotfile data

<a name="DotfileProvider.Domain"></a>
### func \(\*DotfileProvider\) [Domain](<https://github.com/richhaase/plonk/blob/main/internal/state/dotfile_provider.go#L42>)

```go
func (d *DotfileProvider) Domain() string
```

Domain returns the domain name for dotfiles

<a name="DotfileProvider.GetActualItems"></a>
### func \(\*DotfileProvider\) [GetActualItems](<https://github.com/richhaase/plonk/blob/main/internal/state/dotfile_provider.go#L92>)

```go
func (d *DotfileProvider) GetActualItems(ctx context.Context) ([]ActualItem, error)
```

GetActualItems returns dotfiles currently present in the home directory

<a name="DotfileProvider.GetConfiguredItems"></a>
### func \(\*DotfileProvider\) [GetConfiguredItems](<https://github.com/richhaase/plonk/blob/main/internal/state/dotfile_provider.go#L47>)

```go
func (d *DotfileProvider) GetConfiguredItems() ([]ConfigItem, error)
```

GetConfiguredItems returns dotfiles defined in configuration

<a name="Item"></a>
## type [Item](<https://github.com/richhaase/plonk/blob/main/internal/state/types.go#L33-L40>)

Item represents any manageable item \(package, dotfile, etc.\) with its current state

```go
type Item struct {
    Name     string                 `json:"name" yaml:"name"`
    State    ItemState              `json:"state" yaml:"state"`
    Domain   string                 `json:"domain" yaml:"domain"`                         // "package", "dotfile", etc.
    Manager  string                 `json:"manager,omitempty" yaml:"manager,omitempty"`   // "homebrew", "npm", etc.
    Path     string                 `json:"path,omitempty" yaml:"path,omitempty"`         // For dotfiles
    Metadata map[string]interface{} `json:"metadata,omitempty" yaml:"metadata,omitempty"` // Additional data
}
```

<a name="ItemState"></a>
## type [ItemState](<https://github.com/richhaase/plonk/blob/main/internal/state/types.go#L10>)

ItemState represents the reconciliation state of any managed item

```go
type ItemState int
```

<a name="StateManaged"></a>

```go
const (
    StateManaged   ItemState = iota // In config AND present/installed
    StateMissing                    // In config BUT not present/installed
    StateUntracked                  // Present/installed BUT not in config
)
```

<a name="ItemState.String"></a>
### func \(ItemState\) [String](<https://github.com/richhaase/plonk/blob/main/internal/state/types.go#L19>)

```go
func (s ItemState) String() string
```

String returns a human\-readable representation of the item state

<a name="ManagerAdapter"></a>
## type [ManagerAdapter](<https://github.com/richhaase/plonk/blob/main/internal/state/adapters.go#L72-L74>)

ManagerAdapter adapts existing package manager types to the new state interface

```go
type ManagerAdapter struct {
    // contains filtered or unexported fields
}
```

<a name="NewManagerAdapter"></a>
### func [NewManagerAdapter](<https://github.com/richhaase/plonk/blob/main/internal/state/adapters.go#L86>)

```go
func NewManagerAdapter(manager ManagerInterface) *ManagerAdapter
```

NewManagerAdapter creates a new manager adapter

<a name="ManagerAdapter.Install"></a>
### func \(\*ManagerAdapter\) [Install](<https://github.com/richhaase/plonk/blob/main/internal/state/adapters.go#L101>)

```go
func (m *ManagerAdapter) Install(ctx context.Context, name string) error
```

Install implements PackageManager

<a name="ManagerAdapter.IsAvailable"></a>
### func \(\*ManagerAdapter\) [IsAvailable](<https://github.com/richhaase/plonk/blob/main/internal/state/adapters.go#L91>)

```go
func (m *ManagerAdapter) IsAvailable(ctx context.Context) (bool, error)
```

IsAvailable implements PackageManager

<a name="ManagerAdapter.IsInstalled"></a>
### func \(\*ManagerAdapter\) [IsInstalled](<https://github.com/richhaase/plonk/blob/main/internal/state/adapters.go#L111>)

```go
func (m *ManagerAdapter) IsInstalled(ctx context.Context, name string) (bool, error)
```

IsInstalled implements PackageManager

<a name="ManagerAdapter.ListInstalled"></a>
### func \(\*ManagerAdapter\) [ListInstalled](<https://github.com/richhaase/plonk/blob/main/internal/state/adapters.go#L96>)

```go
func (m *ManagerAdapter) ListInstalled(ctx context.Context) ([]string, error)
```

ListInstalled implements PackageManager

<a name="ManagerAdapter.Uninstall"></a>
### func \(\*ManagerAdapter\) [Uninstall](<https://github.com/richhaase/plonk/blob/main/internal/state/adapters.go#L106>)

```go
func (m *ManagerAdapter) Uninstall(ctx context.Context, name string) error
```

Uninstall implements PackageManager

<a name="ManagerInterface"></a>
## type [ManagerInterface](<https://github.com/richhaase/plonk/blob/main/internal/state/adapters.go#L77-L83>)

ManagerInterface defines the methods needed from package managers

```go
type ManagerInterface interface {
    IsAvailable(ctx context.Context) (bool, error)
    ListInstalled(ctx context.Context) ([]string, error)
    Install(ctx context.Context, name string) error
    Uninstall(ctx context.Context, name string) error
    IsInstalled(ctx context.Context, name string) (bool, error)
}
```



```go
    // contains filtered or unexported fields
}
```


```go
```



```go
```

EXPECT returns an object that allows the caller to indicate expected use.


```go
```




```go
    // contains filtered or unexported fields
}
```


```go
```

GetPackagesForManager indicates an expected call of GetPackagesForManager.



```go
    // contains filtered or unexported fields
}
```


```go
```



```go
```

EXPECT returns an object that allows the caller to indicate expected use.


```go
```



```go
```



```go
```



```go
```



```go
```




```go
    // contains filtered or unexported fields
}
```


```go
```

Install indicates an expected call of Install.


```go
```

IsAvailable indicates an expected call of IsAvailable.


```go
```

IsInstalled indicates an expected call of IsInstalled.


```go
```

ListInstalled indicates an expected call of ListInstalled.


```go
```

Uninstall indicates an expected call of Uninstall.



```go
    // contains filtered or unexported fields
}
```


```go
```



```go
```



```go
```



```go
```

EXPECT returns an object that allows the caller to indicate expected use.


```go
```



```go
```




```go
    // contains filtered or unexported fields
}
```


```go
```

CreateItem indicates an expected call of CreateItem.


```go
```

Domain indicates an expected call of Domain.


```go
```

GetActualItems indicates an expected call of GetActualItems.


```go
```

GetConfiguredItems indicates an expected call of GetConfiguredItems.

<a name="MultiManagerPackageProvider"></a>
## type [MultiManagerPackageProvider](<https://github.com/richhaase/plonk/blob/main/internal/state/package_provider.go#L134-L136>)

MultiManagerPackageProvider aggregates multiple package managers

```go
type MultiManagerPackageProvider struct {
    // contains filtered or unexported fields
}
```

<a name="NewMultiManagerPackageProvider"></a>
### func [NewMultiManagerPackageProvider](<https://github.com/richhaase/plonk/blob/main/internal/state/package_provider.go#L139>)

```go
func NewMultiManagerPackageProvider() *MultiManagerPackageProvider
```

NewMultiManagerPackageProvider creates a provider that handles multiple package managers

<a name="MultiManagerPackageProvider.AddManager"></a>
### func \(\*MultiManagerPackageProvider\) [AddManager](<https://github.com/richhaase/plonk/blob/main/internal/state/package_provider.go#L146>)

```go
func (m *MultiManagerPackageProvider) AddManager(managerName string, manager PackageManager, configLoader PackageConfigLoader)
```

AddManager adds a package manager to the multi\-manager provider

<a name="MultiManagerPackageProvider.CreateItem"></a>
### func \(\*MultiManagerPackageProvider\) [CreateItem](<https://github.com/richhaase/plonk/blob/main/internal/state/package_provider.go#L186>)

```go
func (m *MultiManagerPackageProvider) CreateItem(name string, state ItemState, configured *ConfigItem, actual *ActualItem) Item
```

CreateItem creates an Item from package data

<a name="MultiManagerPackageProvider.Domain"></a>
### func \(\*MultiManagerPackageProvider\) [Domain](<https://github.com/richhaase/plonk/blob/main/internal/state/package_provider.go#L151>)

```go
func (m *MultiManagerPackageProvider) Domain() string
```

Domain returns the domain name for packages

<a name="MultiManagerPackageProvider.GetActualItems"></a>
### func \(\*MultiManagerPackageProvider\) [GetActualItems](<https://github.com/richhaase/plonk/blob/main/internal/state/package_provider.go#L171>)

```go
func (m *MultiManagerPackageProvider) GetActualItems(ctx context.Context) ([]ActualItem, error)
```

GetActualItems returns installed packages from all managers

<a name="MultiManagerPackageProvider.GetConfiguredItems"></a>
### func \(\*MultiManagerPackageProvider\) [GetConfiguredItems](<https://github.com/richhaase/plonk/blob/main/internal/state/package_provider.go#L156>)

```go
func (m *MultiManagerPackageProvider) GetConfiguredItems() ([]ConfigItem, error)
```

GetConfiguredItems returns packages from all managers

<a name="PackageConfigItem"></a>
## type [PackageConfigItem](<https://github.com/richhaase/plonk/blob/main/internal/state/package_provider.go#L26-L28>)

PackageConfigItem represents a package from configuration

```go
type PackageConfigItem struct {
    Name string
}
```

<a name="PackageConfigLoader"></a>
## type [PackageConfigLoader](<https://github.com/richhaase/plonk/blob/main/internal/state/package_provider.go#L21-L23>)

PackageConfigLoader defines how to load package configuration

```go
type PackageConfigLoader interface {
    GetPackagesForManager(managerName string) ([]PackageConfigItem, error)
}
```

<a name="PackageManager"></a>
## type [PackageManager](<https://github.com/richhaase/plonk/blob/main/internal/state/package_provider.go#L12-L18>)

PackageManager defines the interface for package managers \(from managers package\)

```go
type PackageManager interface {
    IsAvailable(ctx context.Context) (bool, error)
    ListInstalled(ctx context.Context) ([]string, error)
    Install(ctx context.Context, name string) error
    Uninstall(ctx context.Context, name string) error
    IsInstalled(ctx context.Context, name string) (bool, error)
}
```

<a name="PackageProvider"></a>
## type [PackageProvider](<https://github.com/richhaase/plonk/blob/main/internal/state/package_provider.go#L31-L35>)

PackageProvider implements the Provider interface for package management

```go
type PackageProvider struct {
    // contains filtered or unexported fields
}
```

<a name="NewPackageProvider"></a>
### func [NewPackageProvider](<https://github.com/richhaase/plonk/blob/main/internal/state/package_provider.go#L38>)

```go
func NewPackageProvider(managerName string, manager PackageManager, configLoader PackageConfigLoader) *PackageProvider
```

NewPackageProvider creates a new package provider for a specific manager

<a name="PackageProvider.CreateItem"></a>
### func \(\*PackageProvider\) [CreateItem](<https://github.com/richhaase/plonk/blob/main/internal/state/package_provider.go#L107>)

```go
func (p *PackageProvider) CreateItem(name string, state ItemState, configured *ConfigItem, actual *ActualItem) Item
```

CreateItem creates an Item from package data

<a name="PackageProvider.Domain"></a>
### func \(\*PackageProvider\) [Domain](<https://github.com/richhaase/plonk/blob/main/internal/state/package_provider.go#L47>)

```go
func (p *PackageProvider) Domain() string
```

Domain returns the domain name for packages

<a name="PackageProvider.GetActualItems"></a>
### func \(\*PackageProvider\) [GetActualItems](<https://github.com/richhaase/plonk/blob/main/internal/state/package_provider.go#L72>)

```go
func (p *PackageProvider) GetActualItems(ctx context.Context) ([]ActualItem, error)
```

GetActualItems returns packages currently installed by this manager

<a name="PackageProvider.GetConfiguredItems"></a>
### func \(\*PackageProvider\) [GetConfiguredItems](<https://github.com/richhaase/plonk/blob/main/internal/state/package_provider.go#L52>)

```go
func (p *PackageProvider) GetConfiguredItems() ([]ConfigItem, error)
```

GetConfiguredItems returns packages defined in configuration

<a name="Provider"></a>
## type [Provider](<https://github.com/richhaase/plonk/blob/main/internal/state/reconciler.go#L12-L24>)

Provider defines the interface for any state provider \(packages, dotfiles, etc.\)

```go
type Provider interface {
    // Domain returns the domain name (e.g., "package", "dotfile")
    Domain() string

    // GetConfiguredItems returns items defined in configuration
    GetConfiguredItems() ([]ConfigItem, error)

    // GetActualItems returns items currently present in the system
    GetActualItems(ctx context.Context) ([]ActualItem, error)

    // CreateItem creates an Item from configured and actual data
    CreateItem(name string, state ItemState, configured *ConfigItem, actual *ActualItem) Item
}
```

<a name="Reconciler"></a>
## type [Reconciler](<https://github.com/richhaase/plonk/blob/main/internal/state/reconciler.go#L40-L42>)

Reconciler performs state reconciliation for any provider

```go
type Reconciler struct {
    // contains filtered or unexported fields
}
```

<a name="NewReconciler"></a>
### func [NewReconciler](<https://github.com/richhaase/plonk/blob/main/internal/state/reconciler.go#L45>)

```go
func NewReconciler() *Reconciler
```

NewReconciler creates a new universal state reconciler

<a name="Reconciler.GetDomains"></a>
### func \(\*Reconciler\) [GetDomains](<https://github.com/richhaase/plonk/blob/main/internal/state/reconciler.go#L177>)

```go
func (r *Reconciler) GetDomains() []string
```

GetDomains returns all registered domain names

<a name="Reconciler.GetProvider"></a>
### func \(\*Reconciler\) [GetProvider](<https://github.com/richhaase/plonk/blob/main/internal/state/reconciler.go#L171>)

```go
func (r *Reconciler) GetProvider(domain string) (Provider, bool)
```

GetProvider returns the provider for a given domain

<a name="Reconciler.ReconcileAll"></a>
### func \(\*Reconciler\) [ReconcileAll](<https://github.com/richhaase/plonk/blob/main/internal/state/reconciler.go#L57>)

```go
func (r *Reconciler) ReconcileAll(ctx context.Context) (Summary, error)
```

ReconcileAll reconciles state for all registered providers

<a name="Reconciler.ReconcileProvider"></a>
### func \(\*Reconciler\) [ReconcileProvider](<https://github.com/richhaase/plonk/blob/main/internal/state/reconciler.go#L89>)

```go
func (r *Reconciler) ReconcileProvider(ctx context.Context, domain string) (Result, error)
```

ReconcileProvider reconciles state for a specific provider/domain

<a name="Reconciler.RegisterProvider"></a>
### func \(\*Reconciler\) [RegisterProvider](<https://github.com/richhaase/plonk/blob/main/internal/state/reconciler.go#L52>)

```go
func (r *Reconciler) RegisterProvider(domain string, provider Provider)
```

RegisterProvider registers a state provider for a specific domain

<a name="Result"></a>
## type [Result](<https://github.com/richhaase/plonk/blob/main/internal/state/types.go#L43-L49>)

Result contains the results of state reconciliation for a domain

```go
type Result struct {
    Domain    string `json:"domain" yaml:"domain"`
    Manager   string `json:"manager,omitempty" yaml:"manager,omitempty"`
    Managed   []Item `json:"managed" yaml:"managed"`
    Missing   []Item `json:"missing" yaml:"missing"`
    Untracked []Item `json:"untracked" yaml:"untracked"`
}
```

<a name="Result.AddToSummary"></a>
### func \(\*Result\) [AddToSummary](<https://github.com/richhaase/plonk/blob/main/internal/state/types.go#L70>)

```go
func (r *Result) AddToSummary(summary *Summary)
```

AddToSummary adds this result's counts to the provided summary

<a name="Result.Count"></a>
### func \(\*Result\) [Count](<https://github.com/richhaase/plonk/blob/main/internal/state/types.go#L60>)

```go
func (r *Result) Count() int
```

Count returns the total number of items in this result

<a name="Result.IsEmpty"></a>
### func \(\*Result\) [IsEmpty](<https://github.com/richhaase/plonk/blob/main/internal/state/types.go#L65>)

```go
func (r *Result) IsEmpty() bool
```

IsEmpty returns true if this result contains no items

<a name="Summary"></a>
## type [Summary](<https://github.com/richhaase/plonk/blob/main/internal/state/types.go#L52-L57>)

Summary provides aggregate counts across all states

```go
type Summary struct {
    TotalManaged   int      `json:"total_managed" yaml:"total_managed"`
    TotalMissing   int      `json:"total_missing" yaml:"total_missing"`
    TotalUntracked int      `json:"total_untracked" yaml:"total_untracked"`
    Results        []Result `json:"results" yaml:"results"`
}
```

# errors

```go
import "plonk/internal/errors"
```

Package errors provides structured error types for the plonk tool. It defines error codes, domains, and utilities for consistent error handling across all plonk operations.

## Index

- [type Domain](<#Domain>)
- [type ErrorCode](<#ErrorCode>)
- [type ErrorCollection](<#ErrorCollection>)
  - [func NewErrorCollection\(\) \*ErrorCollection](<#NewErrorCollection>)
  - [func \(ec \*ErrorCollection\) Add\(err \*PlonkError\)](<#ErrorCollection.Add>)
  - [func \(ec \*ErrorCollection\) Error\(\) string](<#ErrorCollection.Error>)
  - [func \(ec \*ErrorCollection\) ErrorOrNil\(\) error](<#ErrorCollection.ErrorOrNil>)
  - [func \(ec \*ErrorCollection\) HasErrors\(\) bool](<#ErrorCollection.HasErrors>)
- [type PlonkError](<#PlonkError>)
  - [func CommandError\(code ErrorCode, operation string, message string\) \*PlonkError](<#CommandError>)
  - [func ConfigError\(code ErrorCode, operation string, message string\) \*PlonkError](<#ConfigError>)
  - [func DotfileError\(code ErrorCode, operation string, message string\) \*PlonkError](<#DotfileError>)
  - [func NewError\(code ErrorCode, domain Domain, operation string, message string\) \*PlonkError](<#NewError>)
  - [func PackageError\(code ErrorCode, operation string, message string\) \*PlonkError](<#PackageError>)
  - [func StateError\(code ErrorCode, operation string, message string\) \*PlonkError](<#StateError>)
  - [func Wrap\(err error, code ErrorCode, domain Domain, operation string, message string\) \*PlonkError](<#Wrap>)
  - [func WrapWithItem\(err error, code ErrorCode, domain Domain, operation string, item string, message string\) \*PlonkError](<#WrapWithItem>)
  - [func \(e \*PlonkError\) Error\(\) string](<#PlonkError.Error>)
  - [func \(e \*PlonkError\) Is\(target error\) bool](<#PlonkError.Is>)
  - [func \(e \*PlonkError\) Unwrap\(\) error](<#PlonkError.Unwrap>)
  - [func \(e \*PlonkError\) UserMessage\(\) string](<#PlonkError.UserMessage>)
  - [func \(e \*PlonkError\) WithCause\(cause error\) \*PlonkError](<#PlonkError.WithCause>)
  - [func \(e \*PlonkError\) WithItem\(item string\) \*PlonkError](<#PlonkError.WithItem>)
  - [func \(e \*PlonkError\) WithMetadata\(key string, value interface\{\}\) \*PlonkError](<#PlonkError.WithMetadata>)
- [type Severity](<#Severity>)


<a name="Domain"></a>
## type [Domain](<https://github.com/richhaase/plonk/blob/main/internal/errors/types.go#L50>)

Domain represents the subsystem where the error occurred

```go
type Domain string
```

<a name="DomainConfig"></a>

```go
const (
    DomainConfig   Domain = "config"
    DomainDotfiles Domain = "dotfiles"
    DomainPackages Domain = "packages"
    DomainState    Domain = "state"
    DomainCommands Domain = "commands"
)
```

<a name="ErrorCode"></a>
## type [ErrorCode](<https://github.com/richhaase/plonk/blob/main/internal/errors/types.go#L15>)

ErrorCode represents the type of error that occurred

```go
type ErrorCode string
```

<a name="ErrConfigNotFound"></a>

```go
const (
    // Configuration errors
    ErrConfigNotFound     ErrorCode = "CONFIG_NOT_FOUND"
    ErrConfigParseFailure ErrorCode = "CONFIG_PARSE_FAILURE"
    ErrConfigValidation   ErrorCode = "CONFIG_VALIDATION"

    // File system errors
    ErrFileNotFound    ErrorCode = "FILE_NOT_FOUND"
    ErrFileExists      ErrorCode = "FILE_EXISTS"
    ErrFilePermission  ErrorCode = "FILE_PERMISSION"
    ErrFileIO          ErrorCode = "FILE_IO"
    ErrDirectoryCreate ErrorCode = "DIRECTORY_CREATE"
    ErrPathValidation  ErrorCode = "PATH_VALIDATION"

    // Package manager errors
    ErrPackageNotFound    ErrorCode = "PACKAGE_NOT_FOUND"
    ErrPackageInstall     ErrorCode = "PACKAGE_INSTALL"
    ErrPackageUninstall   ErrorCode = "PACKAGE_UNINSTALL"
    ErrManagerUnavailable ErrorCode = "MANAGER_UNAVAILABLE"
    ErrCommandExecution   ErrorCode = "COMMAND_EXECUTION"

    // State management errors
    ErrProviderNotFound ErrorCode = "PROVIDER_NOT_FOUND"
    ErrReconciliation   ErrorCode = "RECONCILIATION"
    ErrItemRetrieval    ErrorCode = "ITEM_RETRIEVAL"

    // General errors
    ErrInvalidInput ErrorCode = "INVALID_INPUT"
    ErrInternal     ErrorCode = "INTERNAL"
    ErrUnsupported  ErrorCode = "UNSUPPORTED"
)
```

<a name="ErrorCollection"></a>
## type [ErrorCollection](<https://github.com/richhaase/plonk/blob/main/internal/errors/types.go#L199-L201>)

ErrorCollection holds multiple errors

```go
type ErrorCollection struct {
    Errors []*PlonkError `json:"errors"`
}
```

<a name="NewErrorCollection"></a>
### func [NewErrorCollection](<https://github.com/richhaase/plonk/blob/main/internal/errors/types.go#L238>)

```go
func NewErrorCollection() *ErrorCollection
```

NewErrorCollection creates a new error collection

<a name="ErrorCollection.Add"></a>
### func \(\*ErrorCollection\) [Add](<https://github.com/richhaase/plonk/blob/main/internal/errors/types.go#L220>)

```go
func (ec *ErrorCollection) Add(err *PlonkError)
```

Add adds an error to the collection

<a name="ErrorCollection.Error"></a>
### func \(\*ErrorCollection\) [Error](<https://github.com/richhaase/plonk/blob/main/internal/errors/types.go#L204>)

```go
func (ec *ErrorCollection) Error() string
```

Error implements the error interface for ErrorCollection

<a name="ErrorCollection.ErrorOrNil"></a>
### func \(\*ErrorCollection\) [ErrorOrNil](<https://github.com/richhaase/plonk/blob/main/internal/errors/types.go#L230>)

```go
func (ec *ErrorCollection) ErrorOrNil() error
```

ErrorOrNil returns the collection as an error if it has errors, nil otherwise

<a name="ErrorCollection.HasErrors"></a>
### func \(\*ErrorCollection\) [HasErrors](<https://github.com/richhaase/plonk/blob/main/internal/errors/types.go#L225>)

```go
func (ec *ErrorCollection) HasErrors() bool
```

HasErrors returns true if there are any errors

<a name="PlonkError"></a>
## type [PlonkError](<https://github.com/richhaase/plonk/blob/main/internal/errors/types.go#L70-L79>)

PlonkError represents a structured error with context and metadata

```go
type PlonkError struct {
    Code      ErrorCode              `json:"code"`
    Domain    Domain                 `json:"domain"`
    Operation string                 `json:"operation"`
    Item      string                 `json:"item,omitempty"`
    Message   string                 `json:"message"`
    Severity  Severity               `json:"severity"`
    Metadata  map[string]interface{} `json:"metadata,omitempty"`
    Cause     error                  `json:"-"` // Original error, not serialized
}
```

<a name="CommandError"></a>
### func [CommandError](<https://github.com/richhaase/plonk/blob/main/internal/errors/types.go#L267>)

```go
func CommandError(code ErrorCode, operation string, message string) *PlonkError
```

CommandError creates a command\-related error

<a name="ConfigError"></a>
### func [ConfigError](<https://github.com/richhaase/plonk/blob/main/internal/errors/types.go#L247>)

```go
func ConfigError(code ErrorCode, operation string, message string) *PlonkError
```

ConfigError creates a configuration\-related error

<a name="DotfileError"></a>
### func [DotfileError](<https://github.com/richhaase/plonk/blob/main/internal/errors/types.go#L252>)

```go
func DotfileError(code ErrorCode, operation string, message string) *PlonkError
```

DotfileError creates a dotfile\-related error

<a name="NewError"></a>
### func [NewError](<https://github.com/richhaase/plonk/blob/main/internal/errors/types.go#L169>)

```go
func NewError(code ErrorCode, domain Domain, operation string, message string) *PlonkError
```

NewError creates a new PlonkError with the specified parameters

<a name="PackageError"></a>
### func [PackageError](<https://github.com/richhaase/plonk/blob/main/internal/errors/types.go#L257>)

```go
func PackageError(code ErrorCode, operation string, message string) *PlonkError
```

PackageError creates a package\-related error

<a name="StateError"></a>
### func [StateError](<https://github.com/richhaase/plonk/blob/main/internal/errors/types.go#L262>)

```go
func StateError(code ErrorCode, operation string, message string) *PlonkError
```

StateError creates a state\-related error

<a name="Wrap"></a>
### func [Wrap](<https://github.com/richhaase/plonk/blob/main/internal/errors/types.go#L189>)

```go
func Wrap(err error, code ErrorCode, domain Domain, operation string, message string) *PlonkError
```

Wrap wraps an existing error with plonk context

<a name="WrapWithItem"></a>
### func [WrapWithItem](<https://github.com/richhaase/plonk/blob/main/internal/errors/types.go#L194>)

```go
func WrapWithItem(err error, code ErrorCode, domain Domain, operation string, item string, message string) *PlonkError
```

WrapWithItem wraps an error with item context

<a name="PlonkError.Error"></a>
### func \(\*PlonkError\) [Error](<https://github.com/richhaase/plonk/blob/main/internal/errors/types.go#L82>)

```go
func (e *PlonkError) Error() string
```

Error implements the error interface

<a name="PlonkError.Is"></a>
### func \(\*PlonkError\) [Is](<https://github.com/richhaase/plonk/blob/main/internal/errors/types.go#L106>)

```go
func (e *PlonkError) Is(target error) bool
```

Is supports error comparison for errors.Is

<a name="PlonkError.Unwrap"></a>
### func \(\*PlonkError\) [Unwrap](<https://github.com/richhaase/plonk/blob/main/internal/errors/types.go#L101>)

```go
func (e *PlonkError) Unwrap() error
```

Unwrap returns the underlying error for error wrapping

<a name="PlonkError.UserMessage"></a>
### func \(\*PlonkError\) [UserMessage](<https://github.com/richhaase/plonk/blob/main/internal/errors/types.go#L114>)

```go
func (e *PlonkError) UserMessage() string
```

UserMessage returns a user\-friendly error message

<a name="PlonkError.WithCause"></a>
### func \(\*PlonkError\) [WithCause](<https://github.com/richhaase/plonk/blob/main/internal/errors/types.go#L157>)

```go
func (e *PlonkError) WithCause(cause error) *PlonkError
```

WithCause sets the underlying cause

<a name="PlonkError.WithItem"></a>
### func \(\*PlonkError\) [WithItem](<https://github.com/richhaase/plonk/blob/main/internal/errors/types.go#L163>)

```go
func (e *PlonkError) WithItem(item string) *PlonkError
```

WithItem sets the item being operated on

<a name="PlonkError.WithMetadata"></a>
### func \(\*PlonkError\) [WithMetadata](<https://github.com/richhaase/plonk/blob/main/internal/errors/types.go#L148>)

```go
func (e *PlonkError) WithMetadata(key string, value interface{}) *PlonkError
```

WithMetadata adds metadata to the error

<a name="Severity"></a>
## type [Severity](<https://github.com/richhaase/plonk/blob/main/internal/errors/types.go#L61>)

Severity represents the severity level of the error

```go
type Severity string
```

<a name="SeverityWarning"></a>

```go
const (
    SeverityWarning  Severity = "warning"
    SeverityError    Severity = "error"
    SeverityCritical Severity = "critical"
)
```

# dotfiles

```go
import "plonk/internal/dotfiles"
```

Package dotfiles provides core dotfile management operations including file discovery, path resolution, directory expansion, and file operations.

## Index

- [type AtomicFileWriter](<#AtomicFileWriter>)
  - [func NewAtomicFileWriter\(\) \*AtomicFileWriter](<#NewAtomicFileWriter>)
  - [func \(a \*AtomicFileWriter\) CopyFile\(ctx context.Context, src, dst string, perm os.FileMode\) error](<#AtomicFileWriter.CopyFile>)
  - [func \(a \*AtomicFileWriter\) WriteFile\(filename string, data \[\]byte, perm os.FileMode\) error](<#AtomicFileWriter.WriteFile>)
  - [func \(a \*AtomicFileWriter\) WriteFromReader\(filename string, reader io.Reader, perm os.FileMode\) error](<#AtomicFileWriter.WriteFromReader>)
- [type CopyOptions](<#CopyOptions>)
  - [func DefaultCopyOptions\(\) CopyOptions](<#DefaultCopyOptions>)
- [type DotfileInfo](<#DotfileInfo>)
- [type FileOperations](<#FileOperations>)
  - [func NewFileOperations\(manager \*Manager\) \*FileOperations](<#NewFileOperations>)
  - [func \(f \*FileOperations\) CopyDirectory\(ctx context.Context, source, destination string, options CopyOptions\) error](<#FileOperations.CopyDirectory>)
  - [func \(f \*FileOperations\) CopyFile\(ctx context.Context, source, destination string, options CopyOptions\) error](<#FileOperations.CopyFile>)
  - [func \(f \*FileOperations\) FileNeedsUpdate\(ctx context.Context, source, destination string\) \(bool, error\)](<#FileOperations.FileNeedsUpdate>)
  - [func \(f \*FileOperations\) GetFileInfo\(path string\) \(os.FileInfo, error\)](<#FileOperations.GetFileInfo>)
  - [func \(f \*FileOperations\) RemoveFile\(destination string\) error](<#FileOperations.RemoveFile>)
- [type Manager](<#Manager>)
  - [func NewManager\(homeDir, configDir string\) \*Manager](<#NewManager>)
  - [func \(m \*Manager\) CreateDotfileInfo\(source, destination string\) DotfileInfo](<#Manager.CreateDotfileInfo>)
  - [func \(m \*Manager\) DestinationToName\(destination string\) string](<#Manager.DestinationToName>)
  - [func \(m \*Manager\) ExpandDirectory\(sourceDir, destDir string\) \(\[\]DotfileInfo, error\)](<#Manager.ExpandDirectory>)
  - [func \(m \*Manager\) ExpandPath\(path string\) string](<#Manager.ExpandPath>)
  - [func \(m \*Manager\) FileExists\(path string\) bool](<#Manager.FileExists>)
  - [func \(m \*Manager\) GetDestinationPath\(destination string\) string](<#Manager.GetDestinationPath>)
  - [func \(m \*Manager\) GetSourcePath\(source string\) string](<#Manager.GetSourcePath>)
  - [func \(m \*Manager\) IsDirectory\(path string\) bool](<#Manager.IsDirectory>)
  - [func \(m \*Manager\) ListDotfiles\(dir string\) \(\[\]string, error\)](<#Manager.ListDotfiles>)
  - [func \(m \*Manager\) ValidatePaths\(source, destination string\) error](<#Manager.ValidatePaths>)


<a name="AtomicFileWriter"></a>
## type [AtomicFileWriter](<https://github.com/richhaase/plonk/blob/main/internal/dotfiles/atomic.go#L15>)

AtomicFileWriter handles atomic file operations using temp file \+ rename pattern

```go
type AtomicFileWriter struct{}
```

<a name="NewAtomicFileWriter"></a>
### func [NewAtomicFileWriter](<https://github.com/richhaase/plonk/blob/main/internal/dotfiles/atomic.go#L18>)

```go
func NewAtomicFileWriter() *AtomicFileWriter
```

NewAtomicFileWriter creates a new atomic file writer

<a name="AtomicFileWriter.CopyFile"></a>
### func \(\*AtomicFileWriter\) [CopyFile](<https://github.com/richhaase/plonk/blob/main/internal/dotfiles/atomic.go#L39>)

```go
func (a *AtomicFileWriter) CopyFile(ctx context.Context, src, dst string, perm os.FileMode) error
```

CopyFile atomically copies a file from source to destination

<a name="AtomicFileWriter.WriteFile"></a>
### func \(\*AtomicFileWriter\) [WriteFile](<https://github.com/richhaase/plonk/blob/main/internal/dotfiles/atomic.go#L23>)

```go
func (a *AtomicFileWriter) WriteFile(filename string, data []byte, perm os.FileMode) error
```

WriteFile atomically writes data to a file

<a name="AtomicFileWriter.WriteFromReader"></a>
### func \(\*AtomicFileWriter\) [WriteFromReader](<https://github.com/richhaase/plonk/blob/main/internal/dotfiles/atomic.go#L31>)

```go
func (a *AtomicFileWriter) WriteFromReader(filename string, reader io.Reader, perm os.FileMode) error
```

WriteFromReader atomically writes from a reader to a file

<a name="CopyOptions"></a>
## type [CopyOptions](<https://github.com/richhaase/plonk/blob/main/internal/dotfiles/fileops.go#L31-L35>)

CopyOptions configures file copy operations

```go
type CopyOptions struct {
    CreateBackup      bool
    BackupSuffix      string
    OverwriteExisting bool
}
```

<a name="DefaultCopyOptions"></a>
### func [DefaultCopyOptions](<https://github.com/richhaase/plonk/blob/main/internal/dotfiles/fileops.go#L38>)

```go
func DefaultCopyOptions() CopyOptions
```

DefaultCopyOptions returns default copy options

<a name="DotfileInfo"></a>
## type [DotfileInfo](<https://github.com/richhaase/plonk/blob/main/internal/dotfiles/operations.go#L31-L38>)

DotfileInfo represents information about a dotfile

```go
type DotfileInfo struct {
    Name        string
    Source      string // Path in config directory
    Destination string // Path in home directory
    IsDirectory bool
    ParentDir   string // For files expanded from directories
    Metadata    map[string]interface{}
}
```

<a name="FileOperations"></a>
## type [FileOperations](<https://github.com/richhaase/plonk/blob/main/internal/dotfiles/fileops.go#L17-L20>)

FileOperations handles file system operations for dotfiles

```go
type FileOperations struct {
    // contains filtered or unexported fields
}
```

<a name="NewFileOperations"></a>
### func [NewFileOperations](<https://github.com/richhaase/plonk/blob/main/internal/dotfiles/fileops.go#L23>)

```go
func NewFileOperations(manager *Manager) *FileOperations
```

NewFileOperations creates a new file operations handler

<a name="FileOperations.CopyDirectory"></a>
### func \(\*FileOperations\) [CopyDirectory](<https://github.com/richhaase/plonk/blob/main/internal/dotfiles/fileops.go#L93>)

```go
func (f *FileOperations) CopyDirectory(ctx context.Context, source, destination string, options CopyOptions) error
```

CopyDirectory copies a directory recursively from source to destination

<a name="FileOperations.CopyFile"></a>
### func \(\*FileOperations\) [CopyFile](<https://github.com/richhaase/plonk/blob/main/internal/dotfiles/fileops.go#L47>)

```go
func (f *FileOperations) CopyFile(ctx context.Context, source, destination string, options CopyOptions) error
```

CopyFile copies a file from source to destination with options

<a name="FileOperations.FileNeedsUpdate"></a>
### func \(\*FileOperations\) [FileNeedsUpdate](<https://github.com/richhaase/plonk/blob/main/internal/dotfiles/fileops.go#L173>)

```go
func (f *FileOperations) FileNeedsUpdate(ctx context.Context, source, destination string) (bool, error)
```

FileNeedsUpdate checks if a file needs to be updated based on modification time

<a name="FileOperations.GetFileInfo"></a>
### func \(\*FileOperations\) [GetFileInfo](<https://github.com/richhaase/plonk/blob/main/internal/dotfiles/fileops.go#L220>)

```go
func (f *FileOperations) GetFileInfo(path string) (os.FileInfo, error)
```

GetFileInfo returns information about a file

<a name="FileOperations.RemoveFile"></a>
### func \(\*FileOperations\) [RemoveFile](<https://github.com/richhaase/plonk/blob/main/internal/dotfiles/fileops.go#L162>)

```go
func (f *FileOperations) RemoveFile(destination string) error
```

RemoveFile removes a file from the destination

<a name="Manager"></a>
## type [Manager](<https://github.com/richhaase/plonk/blob/main/internal/dotfiles/operations.go#L17-L20>)

Manager handles dotfile operations and path management

```go
type Manager struct {
    // contains filtered or unexported fields
}
```

<a name="NewManager"></a>
### func [NewManager](<https://github.com/richhaase/plonk/blob/main/internal/dotfiles/operations.go#L23>)

```go
func NewManager(homeDir, configDir string) *Manager
```

NewManager creates a new dotfile manager

<a name="Manager.CreateDotfileInfo"></a>
### func \(\*Manager\) [CreateDotfileInfo](<https://github.com/richhaase/plonk/blob/main/internal/dotfiles/operations.go#L146>)

```go
func (m *Manager) CreateDotfileInfo(source, destination string) DotfileInfo
```

CreateDotfileInfo creates a DotfileInfo from source and destination paths

<a name="Manager.DestinationToName"></a>
### func \(\*Manager\) [DestinationToName](<https://github.com/richhaase/plonk/blob/main/internal/dotfiles/operations.go#L104>)

```go
func (m *Manager) DestinationToName(destination string) string
```

DestinationToName converts a destination path to a standardized name

<a name="Manager.ExpandDirectory"></a>
### func \(\*Manager\) [ExpandDirectory](<https://github.com/richhaase/plonk/blob/main/internal/dotfiles/operations.go#L59>)

```go
func (m *Manager) ExpandDirectory(sourceDir, destDir string) ([]DotfileInfo, error)
```

ExpandDirectory walks a directory and returns individual file entries

<a name="Manager.ExpandPath"></a>
### func \(\*Manager\) [ExpandPath](<https://github.com/richhaase/plonk/blob/main/internal/dotfiles/operations.go#L113>)

```go
func (m *Manager) ExpandPath(path string) string
```

ExpandPath expands \~ to home directory

<a name="Manager.FileExists"></a>
### func \(\*Manager\) [FileExists](<https://github.com/richhaase/plonk/blob/main/internal/dotfiles/operations.go#L131>)

```go
func (m *Manager) FileExists(path string) bool
```

FileExists checks if a file exists at the given path

<a name="Manager.GetDestinationPath"></a>
### func \(\*Manager\) [GetDestinationPath](<https://github.com/richhaase/plonk/blob/main/internal/dotfiles/operations.go#L126>)

```go
func (m *Manager) GetDestinationPath(destination string) string
```

GetDestinationPath returns the full destination path for a dotfile

<a name="Manager.GetSourcePath"></a>
### func \(\*Manager\) [GetSourcePath](<https://github.com/richhaase/plonk/blob/main/internal/dotfiles/operations.go#L121>)

```go
func (m *Manager) GetSourcePath(source string) string
```

GetSourcePath returns the full source path for a dotfile

<a name="Manager.IsDirectory"></a>
### func \(\*Manager\) [IsDirectory](<https://github.com/richhaase/plonk/blob/main/internal/dotfiles/operations.go#L137>)

```go
func (m *Manager) IsDirectory(path string) bool
```

IsDirectory checks if a path is a directory

<a name="Manager.ListDotfiles"></a>
### func \(\*Manager\) [ListDotfiles](<https://github.com/richhaase/plonk/blob/main/internal/dotfiles/operations.go#L41>)

```go
func (m *Manager) ListDotfiles(dir string) ([]string, error)
```

ListDotfiles finds all dotfiles in the specified directory

<a name="Manager.ValidatePaths"></a>
### func \(\*Manager\) [ValidatePaths](<https://github.com/richhaase/plonk/blob/main/internal/dotfiles/operations.go#L163>)

```go
func (m *Manager) ValidatePaths(source, destination string) error
```

ValidatePaths validates that source and destination paths are valid

# commands

```go
import "plonk/internal/commands"
```

## Index

- [func Execute\(\) error](<#Execute>)
- [func ExecuteWithExitCode\(version, commit, date string\) int](<#ExecuteWithExitCode>)
- [func HandleError\(err error\) int](<#HandleError>)
- [func NewConfigError\(code errors.ErrorCode, operation string, message string\) error](<#NewConfigError>)
- [func NewFileError\(code errors.ErrorCode, operation string, filename string, message string\) error](<#NewFileError>)
- [func NewPackageError\(code errors.ErrorCode, operation string, packageName string, message string\) error](<#NewPackageError>)
- [func RenderOutput\(data OutputData, format OutputFormat\) error](<#RenderOutput>)
- [func WrapCommandError\(err error, command string, message string\) error](<#WrapCommandError>)
- [type AddAllOutput](<#AddAllOutput>)
  - [func \(a AddAllOutput\) StructuredData\(\) any](<#AddAllOutput.StructuredData>)
  - [func \(a AddAllOutput\) TableOutput\(\) string](<#AddAllOutput.TableOutput>)
- [type AddOutput](<#AddOutput>)
  - [func \(a AddOutput\) StructuredData\(\) any](<#AddOutput.StructuredData>)
  - [func \(a AddOutput\) TableOutput\(\) string](<#AddOutput.TableOutput>)
- [type ApplyOutput](<#ApplyOutput>)
  - [func \(a ApplyOutput\) StructuredData\(\) any](<#ApplyOutput.StructuredData>)
  - [func \(a ApplyOutput\) TableOutput\(\) string](<#ApplyOutput.TableOutput>)
- [type BatchAddOutput](<#BatchAddOutput>)
  - [func \(b BatchAddOutput\) StructuredData\(\) any](<#BatchAddOutput.StructuredData>)
  - [func \(b BatchAddOutput\) TableOutput\(\) string](<#BatchAddOutput.TableOutput>)
- [type CombinedApplyOutput](<#CombinedApplyOutput>)
  - [func \(c CombinedApplyOutput\) StructuredData\(\) any](<#CombinedApplyOutput.StructuredData>)
  - [func \(c CombinedApplyOutput\) TableOutput\(\) string](<#CombinedApplyOutput.TableOutput>)
- [type ConfigInfo](<#ConfigInfo>)
- [type ConfigShowOutput](<#ConfigShowOutput>)
  - [func \(c ConfigShowOutput\) StructuredData\(\) any](<#ConfigShowOutput.StructuredData>)
  - [func \(c ConfigShowOutput\) TableOutput\(\) string](<#ConfigShowOutput.TableOutput>)
- [type ConfigValidateOutput](<#ConfigValidateOutput>)
  - [func \(c ConfigValidateOutput\) StructuredData\(\) any](<#ConfigValidateOutput.StructuredData>)
  - [func \(c ConfigValidateOutput\) TableOutput\(\) string](<#ConfigValidateOutput.TableOutput>)
- [type DoctorOutput](<#DoctorOutput>)
  - [func \(d DoctorOutput\) StructuredData\(\) any](<#DoctorOutput.StructuredData>)
  - [func \(d DoctorOutput\) TableOutput\(\) string](<#DoctorOutput.TableOutput>)
- [type DotfileAction](<#DotfileAction>)
- [type DotfileAddOutput](<#DotfileAddOutput>)
  - [func \(d DotfileAddOutput\) StructuredData\(\) any](<#DotfileAddOutput.StructuredData>)
  - [func \(d DotfileAddOutput\) TableOutput\(\) string](<#DotfileAddOutput.TableOutput>)
- [type DotfileApplyOutput](<#DotfileApplyOutput>)
  - [func \(d DotfileApplyOutput\) StructuredData\(\) any](<#DotfileApplyOutput.StructuredData>)
  - [func \(d DotfileApplyOutput\) TableOutput\(\) string](<#DotfileApplyOutput.TableOutput>)
- [type DotfileBatchAddOutput](<#DotfileBatchAddOutput>)
  - [func \(d DotfileBatchAddOutput\) StructuredData\(\) any](<#DotfileBatchAddOutput.StructuredData>)
  - [func \(d DotfileBatchAddOutput\) TableOutput\(\) string](<#DotfileBatchAddOutput.TableOutput>)
- [type DotfileListOutput](<#DotfileListOutput>)
  - [func \(d DotfileListOutput\) StructuredData\(\) any](<#DotfileListOutput.StructuredData>)
  - [func \(d DotfileListOutput\) TableOutput\(\) string](<#DotfileListOutput.TableOutput>)
- [type EnhancedAddOutput](<#EnhancedAddOutput>)
  - [func \(a EnhancedAddOutput\) StructuredData\(\) any](<#EnhancedAddOutput.StructuredData>)
  - [func \(a EnhancedAddOutput\) TableOutput\(\) string](<#EnhancedAddOutput.TableOutput>)
- [type EnhancedManagerOutput](<#EnhancedManagerOutput>)
- [type EnhancedPackageOutput](<#EnhancedPackageOutput>)
- [type EnhancedRemoveOutput](<#EnhancedRemoveOutput>)
  - [func \(r EnhancedRemoveOutput\) StructuredData\(\) any](<#EnhancedRemoveOutput.StructuredData>)
  - [func \(r EnhancedRemoveOutput\) TableOutput\(\) string](<#EnhancedRemoveOutput.TableOutput>)
- [type EnvOutput](<#EnvOutput>)
  - [func \(e EnvOutput\) StructuredData\(\) any](<#EnvOutput.StructuredData>)
  - [func \(e EnvOutput\) TableOutput\(\) string](<#EnvOutput.TableOutput>)
- [type EnvironmentVars](<#EnvironmentVars>)
- [type HealthCheck](<#HealthCheck>)
- [type HealthStatus](<#HealthStatus>)
- [type InfoOutput](<#InfoOutput>)
  - [func \(i InfoOutput\) StructuredData\(\) any](<#InfoOutput.StructuredData>)
  - [func \(i InfoOutput\) TableOutput\(\) string](<#InfoOutput.TableOutput>)
- [type ManagerApplyResult](<#ManagerApplyResult>)
- [type ManagerInfo](<#ManagerInfo>)
- [type ManagerOutput](<#ManagerOutput>)
- [type ManagerStatus](<#ManagerStatus>)
- [type OutputData](<#OutputData>)
- [type OutputFormat](<#OutputFormat>)
  - [func ParseOutputFormat\(format string\) \(OutputFormat, error\)](<#ParseOutputFormat>)
- [type PackageApplyResult](<#PackageApplyResult>)
- [type PackageListOutput](<#PackageListOutput>)
  - [func \(p PackageListOutput\) StructuredData\(\) any](<#PackageListOutput.StructuredData>)
  - [func \(p PackageListOutput\) TableOutput\(\) string](<#PackageListOutput.TableOutput>)
- [type PackageOutput](<#PackageOutput>)
- [type PackageStatusOutput](<#PackageStatusOutput>)
  - [func \(p PackageStatusOutput\) StructuredData\(\) any](<#PackageStatusOutput.StructuredData>)
  - [func \(p PackageStatusOutput\) TableOutput\(\) string](<#PackageStatusOutput.TableOutput>)
- [type PathInfo](<#PathInfo>)
- [type RemoveOutput](<#RemoveOutput>)
  - [func \(r RemoveOutput\) StructuredData\(\) any](<#RemoveOutput.StructuredData>)
  - [func \(r RemoveOutput\) TableOutput\(\) string](<#RemoveOutput.TableOutput>)
- [type SearchOutput](<#SearchOutput>)
  - [func \(s SearchOutput\) StructuredData\(\) any](<#SearchOutput.StructuredData>)
  - [func \(s SearchOutput\) TableOutput\(\) string](<#SearchOutput.TableOutput>)
- [type StatusOutput](<#StatusOutput>)
  - [func \(s StatusOutput\) StructuredData\(\) any](<#StatusOutput.StructuredData>)
  - [func \(s StatusOutput\) TableOutput\(\) string](<#StatusOutput.TableOutput>)
- [type StatusSummary](<#StatusSummary>)
- [type SystemInfo](<#SystemInfo>)
- [type VersionInfo](<#VersionInfo>)


<a name="Execute"></a>
## func [Execute](<https://github.com/richhaase/plonk/blob/main/internal/commands/root.go#L44>)

```go
func Execute() error
```

Execute runs the root command

<a name="ExecuteWithExitCode"></a>
## func [ExecuteWithExitCode](<https://github.com/richhaase/plonk/blob/main/internal/commands/root.go#L49>)

```go
func ExecuteWithExitCode(version, commit, date string) int
```

ExecuteWithExitCode runs the root command and returns appropriate exit code

<a name="HandleError"></a>
## func [HandleError](<https://github.com/richhaase/plonk/blob/main/internal/commands/errors.go#L15>)

```go
func HandleError(err error) int
```

HandleError processes an error and returns a user\-friendly exit code Returns 0 for success, 1 for user errors, 2 for system errors

<a name="NewConfigError"></a>
## func [NewConfigError](<https://github.com/richhaase/plonk/blob/main/internal/commands/errors.go#L68>)

```go
func NewConfigError(code errors.ErrorCode, operation string, message string) error
```

NewConfigError creates a configuration\-related error

<a name="NewFileError"></a>
## func [NewFileError](<https://github.com/richhaase/plonk/blob/main/internal/commands/errors.go#L73>)

```go
func NewFileError(code errors.ErrorCode, operation string, filename string, message string) error
```

NewFileError creates a file\-related error

<a name="NewPackageError"></a>
## func [NewPackageError](<https://github.com/richhaase/plonk/blob/main/internal/commands/errors.go#L78>)

```go
func NewPackageError(code errors.ErrorCode, operation string, packageName string, message string) error
```

NewPackageError creates a package\-related error

<a name="RenderOutput"></a>
## func [RenderOutput](<https://github.com/richhaase/plonk/blob/main/internal/commands/output.go#L31>)

```go
func RenderOutput(data OutputData, format OutputFormat) error
```

RenderOutput renders data in the specified format

<a name="WrapCommandError"></a>
## func [WrapCommandError](<https://github.com/richhaase/plonk/blob/main/internal/commands/errors.go#L53>)

```go
func WrapCommandError(err error, command string, message string) error
```

WrapCommandError wraps a command error with appropriate context

<a name="AddAllOutput"></a>
## type [AddAllOutput](<https://github.com/richhaase/plonk/blob/main/internal/commands/output.go#L295-L299>)



```go
type AddAllOutput struct {
    Added  int    `json:"added" yaml:"added"`
    Total  int    `json:"total" yaml:"total"`
    Action string `json:"action" yaml:"action"`
}
```

<a name="AddAllOutput.StructuredData"></a>
### func \(AddAllOutput\) [StructuredData](<https://github.com/richhaase/plonk/blob/main/internal/commands/output.go#L325>)

```go
func (a AddAllOutput) StructuredData() any
```



<a name="AddAllOutput.TableOutput"></a>
### func \(AddAllOutput\) [TableOutput](<https://github.com/richhaase/plonk/blob/main/internal/commands/output.go#L313>)

```go
func (a AddAllOutput) TableOutput() string
```



<a name="AddOutput"></a>
## type [AddOutput](<https://github.com/richhaase/plonk/blob/main/internal/commands/output.go#L289-L293>)

Legacy add/remove output types \(keeping for compatibility\)

```go
type AddOutput struct {
    Package string `json:"package" yaml:"package"`
    Manager string `json:"manager" yaml:"manager"`
    Action  string `json:"action" yaml:"action"`
}
```

<a name="AddOutput.StructuredData"></a>
### func \(AddOutput\) [StructuredData](<https://github.com/richhaase/plonk/blob/main/internal/commands/output.go#L321>)

```go
func (a AddOutput) StructuredData() any
```



<a name="AddOutput.TableOutput"></a>
### func \(AddOutput\) [TableOutput](<https://github.com/richhaase/plonk/blob/main/internal/commands/output.go#L309>)

```go
func (a AddOutput) TableOutput() string
```

Legacy table output methods \(minimal output, handled in command logic\)

<a name="ApplyOutput"></a>
## type [ApplyOutput](<https://github.com/richhaase/plonk/blob/main/internal/commands/apply.go#L426-L433>)

ApplyOutput represents the output structure for package apply operations

```go
type ApplyOutput struct {
    DryRun            bool                 `json:"dry_run" yaml:"dry_run"`
    TotalMissing      int                  `json:"total_missing" yaml:"total_missing"`
    TotalInstalled    int                  `json:"total_installed" yaml:"total_installed"`
    TotalFailed       int                  `json:"total_failed" yaml:"total_failed"`
    TotalWouldInstall int                  `json:"total_would_install" yaml:"total_would_install"`
    Managers          []ManagerApplyResult `json:"managers" yaml:"managers"`
}
```

<a name="ApplyOutput.StructuredData"></a>
### func \(ApplyOutput\) [StructuredData](<https://github.com/richhaase/plonk/blob/main/internal/commands/apply.go#L457>)

```go
func (a ApplyOutput) StructuredData() any
```

StructuredData returns the structured data for serialization

<a name="ApplyOutput.TableOutput"></a>
### func \(ApplyOutput\) [TableOutput](<https://github.com/richhaase/plonk/blob/main/internal/commands/apply.go#L450>)

```go
func (a ApplyOutput) TableOutput() string
```

TableOutput generates human\-friendly table output for apply results

<a name="BatchAddOutput"></a>
## type [BatchAddOutput](<https://github.com/richhaase/plonk/blob/main/internal/commands/output.go#L113-L121>)



```go
type BatchAddOutput struct {
    TotalPackages     int                 `json:"total_packages" yaml:"total_packages"`
    AddedToConfig     int                 `json:"added_to_config" yaml:"added_to_config"`
    Installed         int                 `json:"installed" yaml:"installed"`
    AlreadyConfigured int                 `json:"already_configured" yaml:"already_configured"`
    AlreadyInstalled  int                 `json:"already_installed" yaml:"already_installed"`
    Errors            int                 `json:"errors" yaml:"errors"`
    Packages          []EnhancedAddOutput `json:"packages" yaml:"packages"`
}
```

<a name="BatchAddOutput.StructuredData"></a>
### func \(BatchAddOutput\) [StructuredData](<https://github.com/richhaase/plonk/blob/main/internal/commands/output.go#L272>)

```go
func (b BatchAddOutput) StructuredData() any
```



<a name="BatchAddOutput.TableOutput"></a>
### func \(BatchAddOutput\) [TableOutput](<https://github.com/richhaase/plonk/blob/main/internal/commands/output.go#L223>)

```go
func (b BatchAddOutput) TableOutput() string
```



<a name="CombinedApplyOutput"></a>
## type [CombinedApplyOutput](<https://github.com/richhaase/plonk/blob/main/internal/commands/apply.go#L552-L556>)

CombinedApplyOutput represents the output structure for the combined apply command

```go
type CombinedApplyOutput struct {
    DryRun   bool               `json:"dry_run" yaml:"dry_run"`
    Packages ApplyOutput        `json:"packages" yaml:"packages"`
    Dotfiles DotfileApplyOutput `json:"dotfiles" yaml:"dotfiles"`
}
```

<a name="CombinedApplyOutput.StructuredData"></a>
### func \(CombinedApplyOutput\) [StructuredData](<https://github.com/richhaase/plonk/blob/main/internal/commands/apply.go#L583>)

```go
func (c CombinedApplyOutput) StructuredData() any
```

StructuredData returns the structured data for serialization

<a name="CombinedApplyOutput.TableOutput"></a>
### func \(CombinedApplyOutput\) [TableOutput](<https://github.com/richhaase/plonk/blob/main/internal/commands/apply.go#L559>)

```go
func (c CombinedApplyOutput) TableOutput() string
```

TableOutput generates human\-friendly table output for combined apply

<a name="ConfigInfo"></a>
## type [ConfigInfo](<https://github.com/richhaase/plonk/blob/main/internal/commands/env.go#L253-L259>)



```go
type ConfigInfo struct {
    ConfigDir  string `json:"config_dir" yaml:"config_dir"`
    ConfigPath string `json:"config_path" yaml:"config_path"`
    Exists     bool   `json:"exists" yaml:"exists"`
    Valid      bool   `json:"valid" yaml:"valid"`
    Error      string `json:"error,omitempty" yaml:"error,omitempty"`
}
```

<a name="ConfigShowOutput"></a>
## type [ConfigShowOutput](<https://github.com/richhaase/plonk/blob/main/internal/commands/config_show.go#L95-L101>)

ConfigShowOutput represents the output structure for config show command

```go
type ConfigShowOutput struct {
    ConfigPath string         `json:"config_path" yaml:"config_path"`
    Status     string         `json:"status" yaml:"status"`
    Message    string         `json:"message,omitempty" yaml:"message,omitempty"`
    Config     *config.Config `json:"config,omitempty" yaml:"config,omitempty"`
    RawContent string         `json:"raw_content,omitempty" yaml:"raw_content,omitempty"`
}
```

<a name="ConfigShowOutput.StructuredData"></a>
### func \(ConfigShowOutput\) [StructuredData](<https://github.com/richhaase/plonk/blob/main/internal/commands/config_show.go#L131>)

```go
func (c ConfigShowOutput) StructuredData() any
```

StructuredData returns the structured data for serialization

<a name="ConfigShowOutput.TableOutput"></a>
### func \(ConfigShowOutput\) [TableOutput](<https://github.com/richhaase/plonk/blob/main/internal/commands/config_show.go#L104>)

```go
func (c ConfigShowOutput) TableOutput() string
```

TableOutput generates human\-friendly table output for config show

<a name="ConfigValidateOutput"></a>
## type [ConfigValidateOutput](<https://github.com/richhaase/plonk/blob/main/internal/commands/config_validate.go#L85-L91>)

ConfigValidateOutput represents the output structure for config validate command

```go
type ConfigValidateOutput struct {
    ConfigPath string   `json:"config_path" yaml:"config_path"`
    Valid      bool     `json:"valid" yaml:"valid"`
    Errors     []string `json:"errors,omitempty" yaml:"errors,omitempty"`
    Warnings   []string `json:"warnings,omitempty" yaml:"warnings,omitempty"`
    Message    string   `json:"message" yaml:"message"`
}
```

<a name="ConfigValidateOutput.StructuredData"></a>
### func \(ConfigValidateOutput\) [StructuredData](<https://github.com/richhaase/plonk/blob/main/internal/commands/config_validate.go#L125>)

```go
func (c ConfigValidateOutput) StructuredData() any
```

StructuredData returns the structured data for serialization

<a name="ConfigValidateOutput.TableOutput"></a>
### func \(ConfigValidateOutput\) [TableOutput](<https://github.com/richhaase/plonk/blob/main/internal/commands/config_validate.go#L94>)

```go
func (c ConfigValidateOutput) TableOutput() string
```

TableOutput generates human\-friendly table output for config validate

<a name="DoctorOutput"></a>
## type [DoctorOutput](<https://github.com/richhaase/plonk/blob/main/internal/commands/doctor.go#L523-L526>)



```go
type DoctorOutput struct {
    Overall HealthStatus  `json:"overall" yaml:"overall"`
    Checks  []HealthCheck `json:"checks" yaml:"checks"`
}
```

<a name="DoctorOutput.StructuredData"></a>
### func \(DoctorOutput\) [StructuredData](<https://github.com/richhaase/plonk/blob/main/internal/commands/doctor.go#L618>)

```go
func (d DoctorOutput) StructuredData() any
```

StructuredData returns the structured data for serialization

<a name="DoctorOutput.TableOutput"></a>
### func \(DoctorOutput\) [TableOutput](<https://github.com/richhaase/plonk/blob/main/internal/commands/doctor.go#L544>)

```go
func (d DoctorOutput) TableOutput() string
```

TableOutput generates human\-friendly table output for doctor command

<a name="DotfileAction"></a>
## type [DotfileAction](<https://github.com/richhaase/plonk/blob/main/internal/commands/apply.go#L470-L475>)

DotfileAction represents a single dotfile deployment action

```go
type DotfileAction struct {
    Source      string `json:"source" yaml:"source"`
    Destination string `json:"destination" yaml:"destination"`
    Status      string `json:"status" yaml:"status"`
    Reason      string `json:"reason,omitempty" yaml:"reason,omitempty"`
}
```

<a name="DotfileAddOutput"></a>
## type [DotfileAddOutput](<https://github.com/richhaase/plonk/blob/main/internal/commands/dot_add.go#L167-L172>)

DotfileAddOutput represents the output structure for dotfile add command

```go
type DotfileAddOutput struct {
    Source      string `json:"source" yaml:"source"`
    Destination string `json:"destination" yaml:"destination"`
    Action      string `json:"action" yaml:"action"`
    Path        string `json:"path" yaml:"path"`
}
```

<a name="DotfileAddOutput.StructuredData"></a>
### func \(DotfileAddOutput\) [StructuredData](<https://github.com/richhaase/plonk/blob/main/internal/commands/dot_add.go#L198>)

```go
func (d DotfileAddOutput) StructuredData() any
```

StructuredData returns the structured data for serialization

<a name="DotfileAddOutput.TableOutput"></a>
### func \(DotfileAddOutput\) [TableOutput](<https://github.com/richhaase/plonk/blob/main/internal/commands/dot_add.go#L175>)

```go
func (d DotfileAddOutput) TableOutput() string
```

TableOutput generates human\-friendly table output for dotfile add

<a name="DotfileApplyOutput"></a>
## type [DotfileApplyOutput](<https://github.com/richhaase/plonk/blob/main/internal/commands/apply.go#L462-L467>)

DotfileApplyOutput represents the output structure for dotfile apply operations

```go
type DotfileApplyOutput struct {
    DryRun   bool            `json:"dry_run" yaml:"dry_run"`
    Deployed int             `json:"deployed" yaml:"deployed"`
    Skipped  int             `json:"skipped" yaml:"skipped"`
    Actions  []DotfileAction `json:"actions" yaml:"actions"`
}
```

<a name="DotfileApplyOutput.StructuredData"></a>
### func \(DotfileApplyOutput\) [StructuredData](<https://github.com/richhaase/plonk/blob/main/internal/commands/apply.go#L547>)

```go
func (d DotfileApplyOutput) StructuredData() any
```

StructuredData returns the structured data for serialization

<a name="DotfileApplyOutput.TableOutput"></a>
### func \(DotfileApplyOutput\) [TableOutput](<https://github.com/richhaase/plonk/blob/main/internal/commands/apply.go#L478>)

```go
func (d DotfileApplyOutput) TableOutput() string
```

TableOutput generates human\-friendly table output for dotfile apply

<a name="DotfileBatchAddOutput"></a>
## type [DotfileBatchAddOutput](<https://github.com/richhaase/plonk/blob/main/internal/commands/dot_add.go#L365-L369>)

DotfileBatchAddOutput represents the output structure for batch dotfile add operations

```go
type DotfileBatchAddOutput struct {
    TotalFiles int                `json:"total_files" yaml:"total_files"`
    AddedFiles []DotfileAddOutput `json:"added_files" yaml:"added_files"`
    Errors     []string           `json:"errors,omitempty" yaml:"errors,omitempty"`
}
```

<a name="DotfileBatchAddOutput.StructuredData"></a>
### func \(DotfileBatchAddOutput\) [StructuredData](<https://github.com/richhaase/plonk/blob/main/internal/commands/dot_add.go#L413>)

```go
func (d DotfileBatchAddOutput) StructuredData() any
```

StructuredData returns the structured data for serialization

<a name="DotfileBatchAddOutput.TableOutput"></a>
### func \(DotfileBatchAddOutput\) [TableOutput](<https://github.com/richhaase/plonk/blob/main/internal/commands/dot_add.go#L372>)

```go
func (d DotfileBatchAddOutput) TableOutput() string
```

TableOutput generates human\-friendly table output for batch dotfile add

<a name="DotfileListOutput"></a>
## type [DotfileListOutput](<https://github.com/richhaase/plonk/blob/main/internal/commands/dot_list.go#L104-L110>)

DotfileListOutput represents the output structure for dotfile list commands

```go
type DotfileListOutput struct {
    ManagedCount   int          `json:"managed_count" yaml:"managed_count"`
    MissingCount   int          `json:"missing_count" yaml:"missing_count"`
    UntrackedCount int          `json:"untracked_count" yaml:"untracked_count"`
    Items          []state.Item `json:"items" yaml:"items"`
    Verbose        bool         `json:"verbose" yaml:"verbose"`
}
```

<a name="DotfileListOutput.StructuredData"></a>
### func \(DotfileListOutput\) [StructuredData](<https://github.com/richhaase/plonk/blob/main/internal/commands/dot_list.go#L221>)

```go
func (d DotfileListOutput) StructuredData() any
```

StructuredData returns the structured data for serialization

<a name="DotfileListOutput.TableOutput"></a>
### func \(DotfileListOutput\) [TableOutput](<https://github.com/richhaase/plonk/blob/main/internal/commands/dot_list.go#L113>)

```go
func (d DotfileListOutput) TableOutput() string
```

TableOutput generates human\-friendly table output for dotfiles

<a name="EnhancedAddOutput"></a>
## type [EnhancedAddOutput](<https://github.com/richhaase/plonk/blob/main/internal/commands/output.go#L91-L100>)

Enhanced Add/Remove Output structures

```go
type EnhancedAddOutput struct {
    Package          string   `json:"package" yaml:"package"`
    Manager          string   `json:"manager" yaml:"manager"`
    ConfigAdded      bool     `json:"config_added" yaml:"config_added"`
    AlreadyInConfig  bool     `json:"already_in_config" yaml:"already_in_config"`
    Installed        bool     `json:"installed" yaml:"installed"`
    AlreadyInstalled bool     `json:"already_installed" yaml:"already_installed"`
    Error            string   `json:"error,omitempty" yaml:"error,omitempty"`
    Actions          []string `json:"actions" yaml:"actions"`
}
```

<a name="EnhancedAddOutput.StructuredData"></a>
### func \(EnhancedAddOutput\) [StructuredData](<https://github.com/richhaase/plonk/blob/main/internal/commands/output.go#L264>)

```go
func (a EnhancedAddOutput) StructuredData() any
```



<a name="EnhancedAddOutput.TableOutput"></a>
### func \(EnhancedAddOutput\) [TableOutput](<https://github.com/richhaase/plonk/blob/main/internal/commands/output.go#L124>)

```go
func (a EnhancedAddOutput) TableOutput() string
```

Enhanced table output methods

<a name="EnhancedManagerOutput"></a>
## type [EnhancedManagerOutput](<https://github.com/richhaase/plonk/blob/main/internal/commands/output.go#L75-L81>)

EnhancedManagerOutput represents a package manager's enhanced output

```go
type EnhancedManagerOutput struct {
    Name           string                  `json:"name" yaml:"name"`
    ManagedCount   int                     `json:"managed_count" yaml:"managed_count"`
    MissingCount   int                     `json:"missing_count" yaml:"missing_count"`
    UntrackedCount int                     `json:"untracked_count" yaml:"untracked_count"`
    Packages       []EnhancedPackageOutput `json:"packages" yaml:"packages"`
}
```

<a name="EnhancedPackageOutput"></a>
## type [EnhancedPackageOutput](<https://github.com/richhaase/plonk/blob/main/internal/commands/output.go#L84-L88>)

EnhancedPackageOutput represents a package in the enhanced output

```go
type EnhancedPackageOutput struct {
    Name    string `json:"name" yaml:"name"`
    State   string `json:"state" yaml:"state"`
    Manager string `json:"manager" yaml:"manager"`
}
```

<a name="EnhancedRemoveOutput"></a>
## type [EnhancedRemoveOutput](<https://github.com/richhaase/plonk/blob/main/internal/commands/output.go#L102-L111>)



```go
type EnhancedRemoveOutput struct {
    Package       string   `json:"package" yaml:"package"`
    Manager       string   `json:"manager" yaml:"manager"`
    ConfigRemoved bool     `json:"config_removed" yaml:"config_removed"`
    Uninstalled   bool     `json:"uninstalled" yaml:"uninstalled"`
    WasInConfig   bool     `json:"was_in_config" yaml:"was_in_config"`
    WasInstalled  bool     `json:"was_installed" yaml:"was_installed"`
    Error         string   `json:"error,omitempty" yaml:"error,omitempty"`
    Actions       []string `json:"actions" yaml:"actions"`
}
```

<a name="EnhancedRemoveOutput.StructuredData"></a>
### func \(EnhancedRemoveOutput\) [StructuredData](<https://github.com/richhaase/plonk/blob/main/internal/commands/output.go#L268>)

```go
func (r EnhancedRemoveOutput) StructuredData() any
```



<a name="EnhancedRemoveOutput.TableOutput"></a>
### func \(EnhancedRemoveOutput\) [TableOutput](<https://github.com/richhaase/plonk/blob/main/internal/commands/output.go#L175>)

```go
func (r EnhancedRemoveOutput) TableOutput() string
```



<a name="EnvOutput"></a>
## type [EnvOutput](<https://github.com/richhaase/plonk/blob/main/internal/commands/env.go#L239-L245>)



```go
type EnvOutput struct {
    System      SystemInfo      `json:"system" yaml:"system"`
    Config      ConfigInfo      `json:"config" yaml:"config"`
    Managers    []ManagerInfo   `json:"managers" yaml:"managers"`
    Environment EnvironmentVars `json:"environment" yaml:"environment"`
    Paths       PathInfo        `json:"paths" yaml:"paths"`
}
```

<a name="EnvOutput.StructuredData"></a>
### func \(EnvOutput\) [StructuredData](<https://github.com/richhaase/plonk/blob/main/internal/commands/env.go#L362>)

```go
func (e EnvOutput) StructuredData() any
```

StructuredData returns the structured data for serialization

<a name="EnvOutput.TableOutput"></a>
### func \(EnvOutput\) [TableOutput](<https://github.com/richhaase/plonk/blob/main/internal/commands/env.go#L288>)

```go
func (e EnvOutput) TableOutput() string
```

TableOutput generates human\-friendly table output for env command

<a name="EnvironmentVars"></a>
## type [EnvironmentVars](<https://github.com/richhaase/plonk/blob/main/internal/commands/env.go#L269-L277>)



```go
type EnvironmentVars struct {
    Editor string `json:"editor" yaml:"editor"`
    Visual string `json:"visual" yaml:"visual"`
    Shell  string `json:"shell" yaml:"shell"`
    Home   string `json:"home" yaml:"home"`
    Path   string `json:"path" yaml:"path"`
    User   string `json:"user" yaml:"user"`
    Tmpdir string `json:"tmpdir" yaml:"tmpdir"`
}
```

<a name="HealthCheck"></a>
## type [HealthCheck](<https://github.com/richhaase/plonk/blob/main/internal/commands/doctor.go#L533-L541>)



```go
type HealthCheck struct {
    Name        string   `json:"name" yaml:"name"`
    Category    string   `json:"category" yaml:"category"`
    Status      string   `json:"status" yaml:"status"`
    Message     string   `json:"message" yaml:"message"`
    Details     []string `json:"details,omitempty" yaml:"details,omitempty"`
    Issues      []string `json:"issues,omitempty" yaml:"issues,omitempty"`
    Suggestions []string `json:"suggestions,omitempty" yaml:"suggestions,omitempty"`
}
```

<a name="HealthStatus"></a>
## type [HealthStatus](<https://github.com/richhaase/plonk/blob/main/internal/commands/doctor.go#L528-L531>)



```go
type HealthStatus struct {
    Status  string `json:"status" yaml:"status"`
    Message string `json:"message" yaml:"message"`
}
```

<a name="InfoOutput"></a>
## type [InfoOutput](<https://github.com/richhaase/plonk/blob/main/internal/commands/info.go#L225-L230>)



```go
type InfoOutput struct {
    Package     string                `json:"package" yaml:"package"`
    Status      string                `json:"status" yaml:"status"`
    Message     string                `json:"message" yaml:"message"`
    PackageInfo *managers.PackageInfo `json:"package_info,omitempty" yaml:"package_info,omitempty"`
}
```

<a name="InfoOutput.StructuredData"></a>
### func \(InfoOutput\) [StructuredData](<https://github.com/richhaase/plonk/blob/main/internal/commands/info.go#L317>)

```go
func (i InfoOutput) StructuredData() any
```

StructuredData returns the structured data for serialization

<a name="InfoOutput.TableOutput"></a>
### func \(InfoOutput\) [TableOutput](<https://github.com/richhaase/plonk/blob/main/internal/commands/info.go#L233>)

```go
func (i InfoOutput) TableOutput() string
```

TableOutput generates human\-friendly table output for info command

<a name="ManagerApplyResult"></a>
## type [ManagerApplyResult](<https://github.com/richhaase/plonk/blob/main/internal/commands/apply.go#L436-L440>)

ManagerApplyResult represents the result for a specific manager

```go
type ManagerApplyResult struct {
    Name         string               `json:"name" yaml:"name"`
    MissingCount int                  `json:"missing_count" yaml:"missing_count"`
    Packages     []PackageApplyResult `json:"packages" yaml:"packages"`
}
```

<a name="ManagerInfo"></a>
## type [ManagerInfo](<https://github.com/richhaase/plonk/blob/main/internal/commands/env.go#L261-L267>)



```go
type ManagerInfo struct {
    Name      string `json:"name" yaml:"name"`
    Available bool   `json:"available" yaml:"available"`
    Version   string `json:"version,omitempty" yaml:"version,omitempty"`
    Path      string `json:"path,omitempty" yaml:"path,omitempty"`
    Error     string `json:"error,omitempty" yaml:"error,omitempty"`
}
```

<a name="ManagerOutput"></a>
## type [ManagerOutput](<https://github.com/richhaase/plonk/blob/main/internal/commands/output.go#L277-L281>)

Legacy types for backward compatibility

```go
type ManagerOutput struct {
    Name     string          `json:"name" yaml:"name"`
    Count    int             `json:"count" yaml:"count"`
    Packages []PackageOutput `json:"packages" yaml:"packages"`
}
```

<a name="ManagerStatus"></a>
## type [ManagerStatus](<https://github.com/richhaase/plonk/blob/main/internal/commands/output.go#L423-L427>)

ManagerStatus represents status for a specific manager

```go
type ManagerStatus struct {
    Name    string `json:"name" yaml:"name"`
    Managed int    `json:"managed" yaml:"managed"`
    Missing int    `json:"missing" yaml:"missing"`
}
```

<a name="OutputData"></a>
## type [OutputData](<https://github.com/richhaase/plonk/blob/main/internal/commands/output.go#L25-L28>)

OutputData defines the interface for command output data

```go
type OutputData interface {
    TableOutput() string // Human-friendly table format
    StructuredData() any // Data structure for json/yaml/toml
}
```

<a name="OutputFormat"></a>
## type [OutputFormat](<https://github.com/richhaase/plonk/blob/main/internal/commands/output.go#L16>)

OutputFormat represents the available output formats

```go
type OutputFormat string
```

<a name="OutputTable"></a>

```go
const (
    OutputTable OutputFormat = "table"
    OutputJSON  OutputFormat = "json"
    OutputYAML  OutputFormat = "yaml"
)
```

<a name="ParseOutputFormat"></a>
### func [ParseOutputFormat](<https://github.com/richhaase/plonk/blob/main/internal/commands/output.go#L50>)

```go
func ParseOutputFormat(format string) (OutputFormat, error)
```

ParseOutputFormat converts string to OutputFormat

<a name="PackageApplyResult"></a>
## type [PackageApplyResult](<https://github.com/richhaase/plonk/blob/main/internal/commands/apply.go#L443-L447>)

PackageApplyResult represents the result for a specific package

```go
type PackageApplyResult struct {
    Name   string `json:"name" yaml:"name"`
    Status string `json:"status" yaml:"status"`
    Error  string `json:"error,omitempty" yaml:"error,omitempty"`
}
```

<a name="PackageListOutput"></a>
## type [PackageListOutput](<https://github.com/richhaase/plonk/blob/main/internal/commands/output.go#L64-L72>)

PackageListOutput represents the output structure for package list commands

```go
type PackageListOutput struct {
    ManagedCount   int                     `json:"managed_count" yaml:"managed_count"`
    MissingCount   int                     `json:"missing_count" yaml:"missing_count"`
    UntrackedCount int                     `json:"untracked_count" yaml:"untracked_count"`
    TotalCount     int                     `json:"total_count" yaml:"total_count"`
    Managers       []EnhancedManagerOutput `json:"managers" yaml:"managers"`
    Verbose        bool                    `json:"verbose" yaml:"verbose"`
    Items          []EnhancedPackageOutput `json:"items" yaml:"items"`
}
```

<a name="PackageListOutput.StructuredData"></a>
### func \(PackageListOutput\) [StructuredData](<https://github.com/richhaase/plonk/blob/main/internal/commands/output.go#L405>)

```go
func (p PackageListOutput) StructuredData() any
```

StructuredData returns the structured data for serialization

<a name="PackageListOutput.TableOutput"></a>
### func \(PackageListOutput\) [TableOutput](<https://github.com/richhaase/plonk/blob/main/internal/commands/output.go#L334>)

```go
func (p PackageListOutput) TableOutput() string
```

TableOutput generates human\-friendly table output

<a name="PackageOutput"></a>
## type [PackageOutput](<https://github.com/richhaase/plonk/blob/main/internal/commands/output.go#L283-L286>)



```go
type PackageOutput struct {
    Name  string `json:"name" yaml:"name"`
    State string `json:"state,omitempty" yaml:"state,omitempty"`
}
```

<a name="PackageStatusOutput"></a>
## type [PackageStatusOutput](<https://github.com/richhaase/plonk/blob/main/internal/commands/output.go#L410-L413>)

PackageStatusOutput represents the output structure for package status command

```go
type PackageStatusOutput struct {
    Summary StatusSummary   `json:"summary" yaml:"summary"`
    Details []ManagerStatus `json:"details" yaml:"details"`
}
```

<a name="PackageStatusOutput.StructuredData"></a>
### func \(PackageStatusOutput\) [StructuredData](<https://github.com/richhaase/plonk/blob/main/internal/commands/output.go#L478>)

```go
func (p PackageStatusOutput) StructuredData() any
```

StructuredData returns the structured data for serialization

<a name="PackageStatusOutput.TableOutput"></a>
### func \(PackageStatusOutput\) [TableOutput](<https://github.com/richhaase/plonk/blob/main/internal/commands/output.go#L430>)

```go
func (p PackageStatusOutput) TableOutput() string
```

TableOutput generates human\-friendly table output for status

<a name="PathInfo"></a>
## type [PathInfo](<https://github.com/richhaase/plonk/blob/main/internal/commands/env.go#L279-L285>)



```go
type PathInfo struct {
    HomeDir        string `json:"home_dir" yaml:"home_dir"`
    ConfigDir      string `json:"config_dir" yaml:"config_dir"`
    TempDir        string `json:"temp_dir" yaml:"temp_dir"`
    WorkingDir     string `json:"working_dir" yaml:"working_dir"`
    ExecutablePath string `json:"executable_path" yaml:"executable_path"`
}
```

<a name="RemoveOutput"></a>
## type [RemoveOutput](<https://github.com/richhaase/plonk/blob/main/internal/commands/output.go#L301-L306>)



```go
type RemoveOutput struct {
    Package string `json:"package" yaml:"package"`
    Manager string `json:"manager" yaml:"manager"`
    Action  string `json:"action" yaml:"action"`
    Error   string `json:"error,omitempty" yaml:"error,omitempty"`
}
```

<a name="RemoveOutput.StructuredData"></a>
### func \(RemoveOutput\) [StructuredData](<https://github.com/richhaase/plonk/blob/main/internal/commands/output.go#L329>)

```go
func (r RemoveOutput) StructuredData() any
```



<a name="RemoveOutput.TableOutput"></a>
### func \(RemoveOutput\) [TableOutput](<https://github.com/richhaase/plonk/blob/main/internal/commands/output.go#L317>)

```go
func (r RemoveOutput) TableOutput() string
```



<a name="SearchOutput"></a>
## type [SearchOutput](<https://github.com/richhaase/plonk/blob/main/internal/commands/search.go#L289-L298>)



```go
type SearchOutput struct {
    Package          string              `json:"package" yaml:"package"`
    Status           string              `json:"status" yaml:"status"`
    Message          string              `json:"message" yaml:"message"`
    InstalledManager string              `json:"installed_manager,omitempty" yaml:"installed_manager,omitempty"`
    DefaultManager   string              `json:"default_manager,omitempty" yaml:"default_manager,omitempty"`
    FoundManagers    []string            `json:"found_managers,omitempty" yaml:"found_managers,omitempty"`
    Results          []string            `json:"results,omitempty" yaml:"results,omitempty"`
    ManagerResults   map[string][]string `json:"manager_results,omitempty" yaml:"manager_results,omitempty"`
}
```

<a name="SearchOutput.StructuredData"></a>
### func \(SearchOutput\) [StructuredData](<https://github.com/richhaase/plonk/blob/main/internal/commands/search.go#L348>)

```go
func (s SearchOutput) StructuredData() any
```

StructuredData returns the structured data for serialization

<a name="SearchOutput.TableOutput"></a>
### func \(SearchOutput\) [TableOutput](<https://github.com/richhaase/plonk/blob/main/internal/commands/search.go#L301>)

```go
func (s SearchOutput) TableOutput() string
```

TableOutput generates human\-friendly table output for search command

<a name="StatusOutput"></a>
## type [StatusOutput](<https://github.com/richhaase/plonk/blob/main/internal/commands/status.go#L152-L157>)

StatusOutput represents the output structure for status command

```go
type StatusOutput struct {
    ConfigPath   string        `json:"config_path" yaml:"config_path"`
    LockPath     string        `json:"lock_path" yaml:"lock_path"`
    ConfigValid  bool          `json:"config_valid" yaml:"config_valid"`
    StateSummary state.Summary `json:"state_summary" yaml:"state_summary"`
}
```

<a name="StatusOutput.StructuredData"></a>
### func \(StatusOutput\) [StructuredData](<https://github.com/richhaase/plonk/blob/main/internal/commands/status.go#L254>)

```go
func (s StatusOutput) StructuredData() any
```

StructuredData returns the structured data for serialization

<a name="StatusOutput.TableOutput"></a>
### func \(StatusOutput\) [TableOutput](<https://github.com/richhaase/plonk/blob/main/internal/commands/status.go#L160>)

```go
func (s StatusOutput) TableOutput() string
```

TableOutput generates human\-friendly table output for status

<a name="StatusSummary"></a>
## type [StatusSummary](<https://github.com/richhaase/plonk/blob/main/internal/commands/output.go#L416-L420>)

StatusSummary represents the overall status summary

```go
type StatusSummary struct {
    Managed   int `json:"managed" yaml:"managed"`
    Missing   int `json:"missing" yaml:"missing"`
    Untracked int `json:"untracked" yaml:"untracked"`
}
```

<a name="SystemInfo"></a>
## type [SystemInfo](<https://github.com/richhaase/plonk/blob/main/internal/commands/env.go#L247-L251>)



```go
type SystemInfo struct {
    OS           string `json:"os" yaml:"os"`
    Architecture string `json:"architecture" yaml:"architecture"`
    GoVersion    string `json:"go_version" yaml:"go_version"`
}
```

<a name="VersionInfo"></a>
## type [VersionInfo](<https://github.com/richhaase/plonk/blob/main/internal/commands/root.go#L18-L22>)

VersionInfo holds version information passed from main

```go
type VersionInfo struct {
    Version string
    Commit  string
    Date    string
}
```

# lock

```go
import "plonk/internal/lock"
```

## Index

- [type LockFile](<#LockFile>)
- [type LockFileAdapter](<#LockFileAdapter>)
  - [func NewLockFileAdapter\(lockService LockService\) \*LockFileAdapter](<#NewLockFileAdapter>)
  - [func \(a \*LockFileAdapter\) GetPackagesForManager\(managerName string\) \(\[\]state.PackageConfigItem, error\)](<#LockFileAdapter.GetPackagesForManager>)
- [type LockReader](<#LockReader>)
- [type LockService](<#LockService>)
- [type LockWriter](<#LockWriter>)
- [type PackageEntry](<#PackageEntry>)
- [type YAMLLockService](<#YAMLLockService>)
  - [func NewYAMLLockService\(configDir string\) \*YAMLLockService](<#NewYAMLLockService>)
  - [func \(s \*YAMLLockService\) AddPackage\(manager, name, version string\) error](<#YAMLLockService.AddPackage>)
  - [func \(s \*YAMLLockService\) GetLockPath\(\) string](<#YAMLLockService.GetLockPath>)
  - [func \(s \*YAMLLockService\) GetPackages\(manager string\) \(\[\]PackageEntry, error\)](<#YAMLLockService.GetPackages>)
  - [func \(s \*YAMLLockService\) HasPackage\(manager, name string\) bool](<#YAMLLockService.HasPackage>)
  - [func \(s \*YAMLLockService\) Load\(\) \(\*LockFile, error\)](<#YAMLLockService.Load>)
  - [func \(s \*YAMLLockService\) RemovePackage\(manager, name string\) error](<#YAMLLockService.RemovePackage>)
  - [func \(s \*YAMLLockService\) Save\(lock \*LockFile\) error](<#YAMLLockService.Save>)


<a name="LockFile"></a>
## type [LockFile](<https://github.com/richhaase/plonk/blob/main/internal/lock/types.go#L9-L12>)

LockFile represents the structure of plonk.lock

```go
type LockFile struct {
    Version  int                       `yaml:"version"`
    Packages map[string][]PackageEntry `yaml:"packages"`
}
```

<a name="LockFileAdapter"></a>
## type [LockFileAdapter](<https://github.com/richhaase/plonk/blob/main/internal/lock/adapter.go#L9-L11>)

LockFileAdapter adapts the lock file service to the PackageConfigLoader interface

```go
type LockFileAdapter struct {
    // contains filtered or unexported fields
}
```

<a name="NewLockFileAdapter"></a>
### func [NewLockFileAdapter](<https://github.com/richhaase/plonk/blob/main/internal/lock/adapter.go#L14>)

```go
func NewLockFileAdapter(lockService LockService) *LockFileAdapter
```

NewLockFileAdapter creates a new lock file adapter

<a name="LockFileAdapter.GetPackagesForManager"></a>
### func \(\*LockFileAdapter\) [GetPackagesForManager](<https://github.com/richhaase/plonk/blob/main/internal/lock/adapter.go#L21>)

```go
func (a *LockFileAdapter) GetPackagesForManager(managerName string) ([]state.PackageConfigItem, error)
```

GetPackagesForManager returns packages for a specific manager from the lock file

<a name="LockReader"></a>
## type [LockReader](<https://github.com/richhaase/plonk/blob/main/internal/lock/interfaces.go#L7-L10>)

LockReader defines the interface for reading lock files

```go
type LockReader interface {
    // Load reads and parses the lock file
    Load() (*LockFile, error)
}
```

<a name="LockService"></a>
## type [LockService](<https://github.com/richhaase/plonk/blob/main/internal/lock/interfaces.go#L19-L34>)

LockService combines reading and writing with additional operations

```go
type LockService interface {
    LockReader
    LockWriter

    // AddPackage adds a package to the lock file
    AddPackage(manager, name, version string) error

    // RemovePackage removes a package from the lock file
    RemovePackage(manager, name string) error

    // GetPackages returns all packages for a specific manager
    GetPackages(manager string) ([]PackageEntry, error)

    // HasPackage checks if a package exists in the lock file
    HasPackage(manager, name string) bool
}
```

<a name="LockWriter"></a>
## type [LockWriter](<https://github.com/richhaase/plonk/blob/main/internal/lock/interfaces.go#L13-L16>)

LockWriter defines the interface for writing lock files

```go
type LockWriter interface {
    // Save writes the lock file to disk
    Save(lock *LockFile) error
}
```

<a name="PackageEntry"></a>
## type [PackageEntry](<https://github.com/richhaase/plonk/blob/main/internal/lock/types.go#L15-L19>)

PackageEntry represents a single managed package

```go
type PackageEntry struct {
    Name        string    `yaml:"name"`
    InstalledAt time.Time `yaml:"installed_at"`
    Version     string    `yaml:"version"`
}
```

<a name="YAMLLockService"></a>
## type [YAMLLockService](<https://github.com/richhaase/plonk/blob/main/internal/lock/yaml_lock.go#L23-L25>)

YAMLLockService implements LockService using YAML storage

```go
type YAMLLockService struct {
    // contains filtered or unexported fields
}
```

<a name="NewYAMLLockService"></a>
### func [NewYAMLLockService](<https://github.com/richhaase/plonk/blob/main/internal/lock/yaml_lock.go#L28>)

```go
func NewYAMLLockService(configDir string) *YAMLLockService
```

NewYAMLLockService creates a new YAML\-based lock service

<a name="YAMLLockService.AddPackage"></a>
### func \(\*YAMLLockService\) [AddPackage](<https://github.com/richhaase/plonk/blob/main/internal/lock/yaml_lock.go#L96>)

```go
func (s *YAMLLockService) AddPackage(manager, name, version string) error
```

AddPackage adds a package to the lock file

<a name="YAMLLockService.GetLockPath"></a>
### func \(\*YAMLLockService\) [GetLockPath](<https://github.com/richhaase/plonk/blob/main/internal/lock/yaml_lock.go#L204>)

```go
func (s *YAMLLockService) GetLockPath() string
```

GetLockPath returns the path to the lock file

<a name="YAMLLockService.GetPackages"></a>
### func \(\*YAMLLockService\) [GetPackages](<https://github.com/richhaase/plonk/blob/main/internal/lock/yaml_lock.go#L165>)

```go
func (s *YAMLLockService) GetPackages(manager string) ([]PackageEntry, error)
```

GetPackages returns all packages for a specific manager

<a name="YAMLLockService.HasPackage"></a>
### func \(\*YAMLLockService\) [HasPackage](<https://github.com/richhaase/plonk/blob/main/internal/lock/yaml_lock.go#L183>)

```go
func (s *YAMLLockService) HasPackage(manager, name string) bool
```

HasPackage checks if a package exists in the lock file

<a name="YAMLLockService.Load"></a>
### func \(\*YAMLLockService\) [Load](<https://github.com/richhaase/plonk/blob/main/internal/lock/yaml_lock.go#L35>)

```go
func (s *YAMLLockService) Load() (*LockFile, error)
```

Load reads and parses the lock file

<a name="YAMLLockService.RemovePackage"></a>
### func \(\*YAMLLockService\) [RemovePackage](<https://github.com/richhaase/plonk/blob/main/internal/lock/yaml_lock.go#L128>)

```go
func (s *YAMLLockService) RemovePackage(manager, name string) error
```

RemovePackage removes a package from the lock file

<a name="YAMLLockService.Save"></a>
### func \(\*YAMLLockService\) [Save](<https://github.com/richhaase/plonk/blob/main/internal/lock/yaml_lock.go#L67>)

```go
func (s *YAMLLockService) Save(lock *LockFile) error
```

Save writes the lock file to disk

Generated on Thu Jul 10 12:11:39 MDT 2025

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
